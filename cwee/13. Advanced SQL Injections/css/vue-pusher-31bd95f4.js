import{a as Cr}from"./lodash-4cdd6148.js";(function(){try{var ne=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge=new Error().stack;Ge&&(ne._sentryDebugIds=ne._sentryDebugIds||{},ne._sentryDebugIds[Ge]="743d0397-d859-40ea-a720-960cdefc5297",ne._sentryDebugIdIdentifier="sentry-dbid-743d0397-d859-40ea-a720-960cdefc5297")}catch{}})();var Tn={exports:{}};/*!
* Pusher JavaScript Library v5.1.1
* https://pusher.com/
*
* Copyright 2017, Pusher
* Released under the MIT licence.
*/(function(ne,Ge){(function(Pt,ft){ne.exports=ft()})(window,function(){return function(wt){var Pt={};function ft(m){if(Pt[m])return Pt[m].exports;var T=Pt[m]={i:m,l:!1,exports:{}};return wt[m].call(T.exports,T,T.exports,ft),T.l=!0,T.exports}return ft.m=wt,ft.c=Pt,ft.d=function(m,T,Z){ft.o(m,T)||Object.defineProperty(m,T,{enumerable:!0,get:Z})},ft.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},ft.t=function(m,T){if(T&1&&(m=ft(m)),T&8||T&4&&typeof m=="object"&&m&&m.__esModule)return m;var Z=Object.create(null);if(ft.r(Z),Object.defineProperty(Z,"default",{enumerable:!0,value:m}),T&2&&typeof m!="string")for(var N in m)ft.d(Z,N,function(xt){return m[xt]}.bind(null,N));return Z},ft.n=function(m){var T=m&&m.__esModule?function(){return m.default}:function(){return m};return ft.d(T,"a",T),T},ft.o=function(m,T){return Object.prototype.hasOwnProperty.call(m,T)},ft.p="",ft(ft.s=2)}([function(wt,Pt,ft){(function(m){var T=function(i){var a,f=new Float64Array(16);if(i)for(a=0;a<i.length;a++)f[a]=i[a];return f},Z=function(){throw new Error("no PRNG")},N=new Uint8Array(16),xt=new Uint8Array(32);xt[0]=9;var Tt=T(),Xt=T([1]),le=T([56129,1]),ke=T([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Jt=T([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Wt=T([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Le=T([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ke=T([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Re(i,a,f,e){i[a]=f>>24&255,i[a+1]=f>>16&255,i[a+2]=f>>8&255,i[a+3]=f&255,i[a+4]=e>>24&255,i[a+5]=e>>16&255,i[a+6]=e>>8&255,i[a+7]=e&255}function pe(i,a,f,e,c){var l,p=0;for(l=0;l<c;l++)p|=i[a+l]^f[e+l];return(1&p-1>>>8)-1}function je(i,a,f,e){return pe(i,a,f,e,16)}function re(i,a,f,e){return pe(i,a,f,e,32)}function Ue(i,a,f,e){for(var c=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,l=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,p=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,g=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,S=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,j=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,E=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,et=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,A=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,I=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,D=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,B=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,z=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,Y=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,q=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,k=c,U=l,P=p,L=g,R=S,O=j,d=E,x=et,_=A,y=I,b=D,w=B,M=X,W=z,H=Y,F=q,u,K=0;K<20;K+=2)u=k+M|0,R^=u<<7|u>>>32-7,u=R+k|0,_^=u<<9|u>>>32-9,u=_+R|0,M^=u<<13|u>>>32-13,u=M+_|0,k^=u<<18|u>>>32-18,u=O+U|0,y^=u<<7|u>>>32-7,u=y+O|0,W^=u<<9|u>>>32-9,u=W+y|0,U^=u<<13|u>>>32-13,u=U+W|0,O^=u<<18|u>>>32-18,u=b+d|0,H^=u<<7|u>>>32-7,u=H+b|0,P^=u<<9|u>>>32-9,u=P+H|0,d^=u<<13|u>>>32-13,u=d+P|0,b^=u<<18|u>>>32-18,u=F+w|0,L^=u<<7|u>>>32-7,u=L+F|0,x^=u<<9|u>>>32-9,u=x+L|0,w^=u<<13|u>>>32-13,u=w+x|0,F^=u<<18|u>>>32-18,u=k+L|0,U^=u<<7|u>>>32-7,u=U+k|0,P^=u<<9|u>>>32-9,u=P+U|0,L^=u<<13|u>>>32-13,u=L+P|0,k^=u<<18|u>>>32-18,u=O+R|0,d^=u<<7|u>>>32-7,u=d+O|0,x^=u<<9|u>>>32-9,u=x+d|0,R^=u<<13|u>>>32-13,u=R+x|0,O^=u<<18|u>>>32-18,u=b+y|0,w^=u<<7|u>>>32-7,u=w+b|0,_^=u<<9|u>>>32-9,u=_+w|0,y^=u<<13|u>>>32-13,u=y+_|0,b^=u<<18|u>>>32-18,u=F+H|0,M^=u<<7|u>>>32-7,u=M+F|0,W^=u<<9|u>>>32-9,u=W+M|0,H^=u<<13|u>>>32-13,u=H+W|0,F^=u<<18|u>>>32-18;k=k+c|0,U=U+l|0,P=P+p|0,L=L+g|0,R=R+S|0,O=O+j|0,d=d+E|0,x=x+et|0,_=_+A|0,y=y+I|0,b=b+D|0,w=w+B|0,M=M+X|0,W=W+z|0,H=H+Y|0,F=F+q|0,i[0]=k>>>0&255,i[1]=k>>>8&255,i[2]=k>>>16&255,i[3]=k>>>24&255,i[4]=U>>>0&255,i[5]=U>>>8&255,i[6]=U>>>16&255,i[7]=U>>>24&255,i[8]=P>>>0&255,i[9]=P>>>8&255,i[10]=P>>>16&255,i[11]=P>>>24&255,i[12]=L>>>0&255,i[13]=L>>>8&255,i[14]=L>>>16&255,i[15]=L>>>24&255,i[16]=R>>>0&255,i[17]=R>>>8&255,i[18]=R>>>16&255,i[19]=R>>>24&255,i[20]=O>>>0&255,i[21]=O>>>8&255,i[22]=O>>>16&255,i[23]=O>>>24&255,i[24]=d>>>0&255,i[25]=d>>>8&255,i[26]=d>>>16&255,i[27]=d>>>24&255,i[28]=x>>>0&255,i[29]=x>>>8&255,i[30]=x>>>16&255,i[31]=x>>>24&255,i[32]=_>>>0&255,i[33]=_>>>8&255,i[34]=_>>>16&255,i[35]=_>>>24&255,i[36]=y>>>0&255,i[37]=y>>>8&255,i[38]=y>>>16&255,i[39]=y>>>24&255,i[40]=b>>>0&255,i[41]=b>>>8&255,i[42]=b>>>16&255,i[43]=b>>>24&255,i[44]=w>>>0&255,i[45]=w>>>8&255,i[46]=w>>>16&255,i[47]=w>>>24&255,i[48]=M>>>0&255,i[49]=M>>>8&255,i[50]=M>>>16&255,i[51]=M>>>24&255,i[52]=W>>>0&255,i[53]=W>>>8&255,i[54]=W>>>16&255,i[55]=W>>>24&255,i[56]=H>>>0&255,i[57]=H>>>8&255,i[58]=H>>>16&255,i[59]=H>>>24&255,i[60]=F>>>0&255,i[61]=F>>>8&255,i[62]=F>>>16&255,i[63]=F>>>24&255}function Ze(i,a,f,e){for(var c=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,l=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,p=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,g=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,S=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,j=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,E=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,et=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,A=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,I=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,D=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,B=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,X=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,z=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,Y=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,q=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,k=c,U=l,P=p,L=g,R=S,O=j,d=E,x=et,_=A,y=I,b=D,w=B,M=X,W=z,H=Y,F=q,u,K=0;K<20;K+=2)u=k+M|0,R^=u<<7|u>>>32-7,u=R+k|0,_^=u<<9|u>>>32-9,u=_+R|0,M^=u<<13|u>>>32-13,u=M+_|0,k^=u<<18|u>>>32-18,u=O+U|0,y^=u<<7|u>>>32-7,u=y+O|0,W^=u<<9|u>>>32-9,u=W+y|0,U^=u<<13|u>>>32-13,u=U+W|0,O^=u<<18|u>>>32-18,u=b+d|0,H^=u<<7|u>>>32-7,u=H+b|0,P^=u<<9|u>>>32-9,u=P+H|0,d^=u<<13|u>>>32-13,u=d+P|0,b^=u<<18|u>>>32-18,u=F+w|0,L^=u<<7|u>>>32-7,u=L+F|0,x^=u<<9|u>>>32-9,u=x+L|0,w^=u<<13|u>>>32-13,u=w+x|0,F^=u<<18|u>>>32-18,u=k+L|0,U^=u<<7|u>>>32-7,u=U+k|0,P^=u<<9|u>>>32-9,u=P+U|0,L^=u<<13|u>>>32-13,u=L+P|0,k^=u<<18|u>>>32-18,u=O+R|0,d^=u<<7|u>>>32-7,u=d+O|0,x^=u<<9|u>>>32-9,u=x+d|0,R^=u<<13|u>>>32-13,u=R+x|0,O^=u<<18|u>>>32-18,u=b+y|0,w^=u<<7|u>>>32-7,u=w+b|0,_^=u<<9|u>>>32-9,u=_+w|0,y^=u<<13|u>>>32-13,u=y+_|0,b^=u<<18|u>>>32-18,u=F+H|0,M^=u<<7|u>>>32-7,u=M+F|0,W^=u<<9|u>>>32-9,u=W+M|0,H^=u<<13|u>>>32-13,u=H+W|0,F^=u<<18|u>>>32-18;i[0]=k>>>0&255,i[1]=k>>>8&255,i[2]=k>>>16&255,i[3]=k>>>24&255,i[4]=O>>>0&255,i[5]=O>>>8&255,i[6]=O>>>16&255,i[7]=O>>>24&255,i[8]=b>>>0&255,i[9]=b>>>8&255,i[10]=b>>>16&255,i[11]=b>>>24&255,i[12]=F>>>0&255,i[13]=F>>>8&255,i[14]=F>>>16&255,i[15]=F>>>24&255,i[16]=d>>>0&255,i[17]=d>>>8&255,i[18]=d>>>16&255,i[19]=d>>>24&255,i[20]=x>>>0&255,i[21]=x>>>8&255,i[22]=x>>>16&255,i[23]=x>>>24&255,i[24]=_>>>0&255,i[25]=_>>>8&255,i[26]=_>>>16&255,i[27]=_>>>24&255,i[28]=y>>>0&255,i[29]=y>>>8&255,i[30]=y>>>16&255,i[31]=y>>>24&255}function ie(i,a,f,e){Ue(i,a,f,e)}function At(i,a,f,e){Ze(i,a,f,e)}var Bt=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Me(i,a,f,e,c,l,p){var g=new Uint8Array(16),S=new Uint8Array(64),j,E;for(E=0;E<16;E++)g[E]=0;for(E=0;E<8;E++)g[E]=l[E];for(;c>=64;){for(ie(S,g,p,Bt),E=0;E<64;E++)i[a+E]=f[e+E]^S[E];for(j=1,E=8;E<16;E++)j=j+(g[E]&255)|0,g[E]=j&255,j>>>=8;c-=64,a+=64,e+=64}if(c>0)for(ie(S,g,p,Bt),E=0;E<c;E++)i[a+E]=f[e+E]^S[E];return 0}function vt(i,a,f,e,c){var l=new Uint8Array(16),p=new Uint8Array(64),g,S;for(S=0;S<16;S++)l[S]=0;for(S=0;S<8;S++)l[S]=e[S];for(;f>=64;){for(ie(p,l,c,Bt),S=0;S<64;S++)i[a+S]=p[S];for(g=1,S=8;S<16;S++)g=g+(l[S]&255)|0,l[S]=g&255,g>>>=8;f-=64,a+=64}if(f>0)for(ie(p,l,c,Bt),S=0;S<f;S++)i[a+S]=p[S];return 0}function pt(i,a,f,e,c){var l=new Uint8Array(32);At(l,e,c,Bt);for(var p=new Uint8Array(8),g=0;g<8;g++)p[g]=e[g+16];return vt(i,a,f,p,l)}function de(i,a,f,e,c,l,p){var g=new Uint8Array(32);At(g,l,p,Bt);for(var S=new Uint8Array(8),j=0;j<8;j++)S[j]=l[j+16];return Me(i,a,f,e,c,S,g)}var Gt=function(i){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var a,f,e,c,l,p,g,S;a=i[0]&255|(i[1]&255)<<8,this.r[0]=a&8191,f=i[2]&255|(i[3]&255)<<8,this.r[1]=(a>>>13|f<<3)&8191,e=i[4]&255|(i[5]&255)<<8,this.r[2]=(f>>>10|e<<6)&7939,c=i[6]&255|(i[7]&255)<<8,this.r[3]=(e>>>7|c<<9)&8191,l=i[8]&255|(i[9]&255)<<8,this.r[4]=(c>>>4|l<<12)&255,this.r[5]=l>>>1&8190,p=i[10]&255|(i[11]&255)<<8,this.r[6]=(l>>>14|p<<2)&8191,g=i[12]&255|(i[13]&255)<<8,this.r[7]=(p>>>11|g<<5)&8065,S=i[14]&255|(i[15]&255)<<8,this.r[8]=(g>>>8|S<<8)&8191,this.r[9]=S>>>5&127,this.pad[0]=i[16]&255|(i[17]&255)<<8,this.pad[1]=i[18]&255|(i[19]&255)<<8,this.pad[2]=i[20]&255|(i[21]&255)<<8,this.pad[3]=i[22]&255|(i[23]&255)<<8,this.pad[4]=i[24]&255|(i[25]&255)<<8,this.pad[5]=i[26]&255|(i[27]&255)<<8,this.pad[6]=i[28]&255|(i[29]&255)<<8,this.pad[7]=i[30]&255|(i[31]&255)<<8};Gt.prototype.blocks=function(i,a,f){for(var e=this.fin?0:2048,c,l,p,g,S,j,E,et,A,I,D,B,X,z,Y,q,k,U,P,L=this.h[0],R=this.h[1],O=this.h[2],d=this.h[3],x=this.h[4],_=this.h[5],y=this.h[6],b=this.h[7],w=this.h[8],M=this.h[9],W=this.r[0],H=this.r[1],F=this.r[2],u=this.r[3],K=this.r[4],nt=this.r[5],rt=this.r[6],G=this.r[7],$=this.r[8],tt=this.r[9];f>=16;)c=i[a+0]&255|(i[a+1]&255)<<8,L+=c&8191,l=i[a+2]&255|(i[a+3]&255)<<8,R+=(c>>>13|l<<3)&8191,p=i[a+4]&255|(i[a+5]&255)<<8,O+=(l>>>10|p<<6)&8191,g=i[a+6]&255|(i[a+7]&255)<<8,d+=(p>>>7|g<<9)&8191,S=i[a+8]&255|(i[a+9]&255)<<8,x+=(g>>>4|S<<12)&8191,_+=S>>>1&8191,j=i[a+10]&255|(i[a+11]&255)<<8,y+=(S>>>14|j<<2)&8191,E=i[a+12]&255|(i[a+13]&255)<<8,b+=(j>>>11|E<<5)&8191,et=i[a+14]&255|(i[a+15]&255)<<8,w+=(E>>>8|et<<8)&8191,M+=et>>>5|e,A=0,I=A,I+=L*W,I+=R*(5*tt),I+=O*(5*$),I+=d*(5*G),I+=x*(5*rt),A=I>>>13,I&=8191,I+=_*(5*nt),I+=y*(5*K),I+=b*(5*u),I+=w*(5*F),I+=M*(5*H),A+=I>>>13,I&=8191,D=A,D+=L*H,D+=R*W,D+=O*(5*tt),D+=d*(5*$),D+=x*(5*G),A=D>>>13,D&=8191,D+=_*(5*rt),D+=y*(5*nt),D+=b*(5*K),D+=w*(5*u),D+=M*(5*F),A+=D>>>13,D&=8191,B=A,B+=L*F,B+=R*H,B+=O*W,B+=d*(5*tt),B+=x*(5*$),A=B>>>13,B&=8191,B+=_*(5*G),B+=y*(5*rt),B+=b*(5*nt),B+=w*(5*K),B+=M*(5*u),A+=B>>>13,B&=8191,X=A,X+=L*u,X+=R*F,X+=O*H,X+=d*W,X+=x*(5*tt),A=X>>>13,X&=8191,X+=_*(5*$),X+=y*(5*G),X+=b*(5*rt),X+=w*(5*nt),X+=M*(5*K),A+=X>>>13,X&=8191,z=A,z+=L*K,z+=R*u,z+=O*F,z+=d*H,z+=x*W,A=z>>>13,z&=8191,z+=_*(5*tt),z+=y*(5*$),z+=b*(5*G),z+=w*(5*rt),z+=M*(5*nt),A+=z>>>13,z&=8191,Y=A,Y+=L*nt,Y+=R*K,Y+=O*u,Y+=d*F,Y+=x*H,A=Y>>>13,Y&=8191,Y+=_*W,Y+=y*(5*tt),Y+=b*(5*$),Y+=w*(5*G),Y+=M*(5*rt),A+=Y>>>13,Y&=8191,q=A,q+=L*rt,q+=R*nt,q+=O*K,q+=d*u,q+=x*F,A=q>>>13,q&=8191,q+=_*H,q+=y*W,q+=b*(5*tt),q+=w*(5*$),q+=M*(5*G),A+=q>>>13,q&=8191,k=A,k+=L*G,k+=R*rt,k+=O*nt,k+=d*K,k+=x*u,A=k>>>13,k&=8191,k+=_*F,k+=y*H,k+=b*W,k+=w*(5*tt),k+=M*(5*$),A+=k>>>13,k&=8191,U=A,U+=L*$,U+=R*G,U+=O*rt,U+=d*nt,U+=x*K,A=U>>>13,U&=8191,U+=_*u,U+=y*F,U+=b*H,U+=w*W,U+=M*(5*tt),A+=U>>>13,U&=8191,P=A,P+=L*tt,P+=R*$,P+=O*G,P+=d*rt,P+=x*nt,A=P>>>13,P&=8191,P+=_*K,P+=y*u,P+=b*F,P+=w*H,P+=M*W,A+=P>>>13,P&=8191,A=(A<<2)+A|0,A=A+I|0,I=A&8191,A=A>>>13,D+=A,L=I,R=D,O=B,d=X,x=z,_=Y,y=q,b=k,w=U,M=P,a+=16,f-=16;this.h[0]=L,this.h[1]=R,this.h[2]=O,this.h[3]=d,this.h[4]=x,this.h[5]=_,this.h[6]=y,this.h[7]=b,this.h[8]=w,this.h[9]=M},Gt.prototype.finish=function(i,a){var f=new Uint16Array(10),e,c,l,p;if(this.leftover){for(p=this.leftover,this.buffer[p++]=1;p<16;p++)this.buffer[p]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(e=this.h[1]>>>13,this.h[1]&=8191,p=2;p<10;p++)this.h[p]+=e,e=this.h[p]>>>13,this.h[p]&=8191;for(this.h[0]+=e*5,e=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=e,e=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=e,f[0]=this.h[0]+5,e=f[0]>>>13,f[0]&=8191,p=1;p<10;p++)f[p]=this.h[p]+e,e=f[p]>>>13,f[p]&=8191;for(f[9]-=8192,c=(e^1)-1,p=0;p<10;p++)f[p]&=c;for(c=~c,p=0;p<10;p++)this.h[p]=this.h[p]&c|f[p];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,l=this.h[0]+this.pad[0],this.h[0]=l&65535,p=1;p<8;p++)l=(this.h[p]+this.pad[p]|0)+(l>>>16)|0,this.h[p]=l&65535;i[a+0]=this.h[0]>>>0&255,i[a+1]=this.h[0]>>>8&255,i[a+2]=this.h[1]>>>0&255,i[a+3]=this.h[1]>>>8&255,i[a+4]=this.h[2]>>>0&255,i[a+5]=this.h[2]>>>8&255,i[a+6]=this.h[3]>>>0&255,i[a+7]=this.h[3]>>>8&255,i[a+8]=this.h[4]>>>0&255,i[a+9]=this.h[4]>>>8&255,i[a+10]=this.h[5]>>>0&255,i[a+11]=this.h[5]>>>8&255,i[a+12]=this.h[6]>>>0&255,i[a+13]=this.h[6]>>>8&255,i[a+14]=this.h[7]>>>0&255,i[a+15]=this.h[7]>>>8&255},Gt.prototype.update=function(i,a,f){var e,c;if(this.leftover){for(c=16-this.leftover,c>f&&(c=f),e=0;e<c;e++)this.buffer[this.leftover+e]=i[a+e];if(f-=c,a+=c,this.leftover+=c,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(c=f-f%16,this.blocks(i,a,c),a+=c,f-=c),f){for(e=0;e<f;e++)this.buffer[this.leftover+e]=i[a+e];this.leftover+=f}};function Ct(i,a,f,e,c,l){var p=new Gt(l);return p.update(f,e,c),p.finish(i,a),0}function xe(i,a,f,e,c,l){var p=new Uint8Array(16);return Ct(p,0,f,e,c,l),je(i,a,p,0)}function ve(i,a,f,e,c){var l;if(f<32)return-1;for(de(i,0,a,0,f,e,c),Ct(i,16,i,32,f-32,i),l=0;l<16;l++)i[l]=0;return 0}function It(i,a,f,e,c){var l,p=new Uint8Array(32);if(f<32||(pt(p,0,32,e,c),xe(a,16,a,32,f-32,p)!==0))return-1;for(de(i,0,a,0,f,e,c),l=0;l<32;l++)i[l]=0;return 0}function kt(i,a){var f;for(f=0;f<16;f++)i[f]=a[f]|0}function ye(i){var a,f,e=1;for(a=0;a<16;a++)f=i[a]+e+65535,e=Math.floor(f/65536),i[a]=f-e*65536;i[0]+=e-1+37*(e-1)}function Nt(i,a,f){for(var e,c=~(f-1),l=0;l<16;l++)e=c&(i[l]^a[l]),i[l]^=e,a[l]^=e}function Dt(i,a){var f,e,c,l=T(),p=T();for(f=0;f<16;f++)p[f]=a[f];for(ye(p),ye(p),ye(p),e=0;e<2;e++){for(l[0]=p[0]-65517,f=1;f<15;f++)l[f]=p[f]-65535-(l[f-1]>>16&1),l[f-1]&=65535;l[15]=p[15]-32767-(l[14]>>16&1),c=l[15]>>16&1,l[14]&=65535,Nt(p,l,1-c)}for(f=0;f<16;f++)i[2*f]=p[f]&255,i[2*f+1]=p[f]>>8}function Be(i,a){var f=new Uint8Array(32),e=new Uint8Array(32);return Dt(f,i),Dt(e,a),re(f,0,e,0)}function ge(i){var a=new Uint8Array(32);return Dt(a,i),a[0]&1}function be(i,a){var f;for(f=0;f<16;f++)i[f]=a[2*f]+(a[2*f+1]<<8);i[15]&=32767}function Ot(i,a,f){for(var e=0;e<16;e++)i[e]=a[e]+f[e]}function Et(i,a,f){for(var e=0;e<16;e++)i[e]=a[e]-f[e]}function V(i,a,f){var e,c,l=0,p=0,g=0,S=0,j=0,E=0,et=0,A=0,I=0,D=0,B=0,X=0,z=0,Y=0,q=0,k=0,U=0,P=0,L=0,R=0,O=0,d=0,x=0,_=0,y=0,b=0,w=0,M=0,W=0,H=0,F=0,u=f[0],K=f[1],nt=f[2],rt=f[3],G=f[4],$=f[5],tt=f[6],lt=f[7],ot=f[8],at=f[9],it=f[10],ct=f[11],dt=f[12],gt=f[13],ut=f[14],bt=f[15];e=a[0],l+=e*u,p+=e*K,g+=e*nt,S+=e*rt,j+=e*G,E+=e*$,et+=e*tt,A+=e*lt,I+=e*ot,D+=e*at,B+=e*it,X+=e*ct,z+=e*dt,Y+=e*gt,q+=e*ut,k+=e*bt,e=a[1],p+=e*u,g+=e*K,S+=e*nt,j+=e*rt,E+=e*G,et+=e*$,A+=e*tt,I+=e*lt,D+=e*ot,B+=e*at,X+=e*it,z+=e*ct,Y+=e*dt,q+=e*gt,k+=e*ut,U+=e*bt,e=a[2],g+=e*u,S+=e*K,j+=e*nt,E+=e*rt,et+=e*G,A+=e*$,I+=e*tt,D+=e*lt,B+=e*ot,X+=e*at,z+=e*it,Y+=e*ct,q+=e*dt,k+=e*gt,U+=e*ut,P+=e*bt,e=a[3],S+=e*u,j+=e*K,E+=e*nt,et+=e*rt,A+=e*G,I+=e*$,D+=e*tt,B+=e*lt,X+=e*ot,z+=e*at,Y+=e*it,q+=e*ct,k+=e*dt,U+=e*gt,P+=e*ut,L+=e*bt,e=a[4],j+=e*u,E+=e*K,et+=e*nt,A+=e*rt,I+=e*G,D+=e*$,B+=e*tt,X+=e*lt,z+=e*ot,Y+=e*at,q+=e*it,k+=e*ct,U+=e*dt,P+=e*gt,L+=e*ut,R+=e*bt,e=a[5],E+=e*u,et+=e*K,A+=e*nt,I+=e*rt,D+=e*G,B+=e*$,X+=e*tt,z+=e*lt,Y+=e*ot,q+=e*at,k+=e*it,U+=e*ct,P+=e*dt,L+=e*gt,R+=e*ut,O+=e*bt,e=a[6],et+=e*u,A+=e*K,I+=e*nt,D+=e*rt,B+=e*G,X+=e*$,z+=e*tt,Y+=e*lt,q+=e*ot,k+=e*at,U+=e*it,P+=e*ct,L+=e*dt,R+=e*gt,O+=e*ut,d+=e*bt,e=a[7],A+=e*u,I+=e*K,D+=e*nt,B+=e*rt,X+=e*G,z+=e*$,Y+=e*tt,q+=e*lt,k+=e*ot,U+=e*at,P+=e*it,L+=e*ct,R+=e*dt,O+=e*gt,d+=e*ut,x+=e*bt,e=a[8],I+=e*u,D+=e*K,B+=e*nt,X+=e*rt,z+=e*G,Y+=e*$,q+=e*tt,k+=e*lt,U+=e*ot,P+=e*at,L+=e*it,R+=e*ct,O+=e*dt,d+=e*gt,x+=e*ut,_+=e*bt,e=a[9],D+=e*u,B+=e*K,X+=e*nt,z+=e*rt,Y+=e*G,q+=e*$,k+=e*tt,U+=e*lt,P+=e*ot,L+=e*at,R+=e*it,O+=e*ct,d+=e*dt,x+=e*gt,_+=e*ut,y+=e*bt,e=a[10],B+=e*u,X+=e*K,z+=e*nt,Y+=e*rt,q+=e*G,k+=e*$,U+=e*tt,P+=e*lt,L+=e*ot,R+=e*at,O+=e*it,d+=e*ct,x+=e*dt,_+=e*gt,y+=e*ut,b+=e*bt,e=a[11],X+=e*u,z+=e*K,Y+=e*nt,q+=e*rt,k+=e*G,U+=e*$,P+=e*tt,L+=e*lt,R+=e*ot,O+=e*at,d+=e*it,x+=e*ct,_+=e*dt,y+=e*gt,b+=e*ut,w+=e*bt,e=a[12],z+=e*u,Y+=e*K,q+=e*nt,k+=e*rt,U+=e*G,P+=e*$,L+=e*tt,R+=e*lt,O+=e*ot,d+=e*at,x+=e*it,_+=e*ct,y+=e*dt,b+=e*gt,w+=e*ut,M+=e*bt,e=a[13],Y+=e*u,q+=e*K,k+=e*nt,U+=e*rt,P+=e*G,L+=e*$,R+=e*tt,O+=e*lt,d+=e*ot,x+=e*at,_+=e*it,y+=e*ct,b+=e*dt,w+=e*gt,M+=e*ut,W+=e*bt,e=a[14],q+=e*u,k+=e*K,U+=e*nt,P+=e*rt,L+=e*G,R+=e*$,O+=e*tt,d+=e*lt,x+=e*ot,_+=e*at,y+=e*it,b+=e*ct,w+=e*dt,M+=e*gt,W+=e*ut,H+=e*bt,e=a[15],k+=e*u,U+=e*K,P+=e*nt,L+=e*rt,R+=e*G,O+=e*$,d+=e*tt,x+=e*lt,_+=e*ot,y+=e*at,b+=e*it,w+=e*ct,M+=e*dt,W+=e*gt,H+=e*ut,F+=e*bt,l+=38*U,p+=38*P,g+=38*L,S+=38*R,j+=38*O,E+=38*d,et+=38*x,A+=38*_,I+=38*y,D+=38*b,B+=38*w,X+=38*M,z+=38*W,Y+=38*H,q+=38*F,c=1,e=l+c+65535,c=Math.floor(e/65536),l=e-c*65536,e=p+c+65535,c=Math.floor(e/65536),p=e-c*65536,e=g+c+65535,c=Math.floor(e/65536),g=e-c*65536,e=S+c+65535,c=Math.floor(e/65536),S=e-c*65536,e=j+c+65535,c=Math.floor(e/65536),j=e-c*65536,e=E+c+65535,c=Math.floor(e/65536),E=e-c*65536,e=et+c+65535,c=Math.floor(e/65536),et=e-c*65536,e=A+c+65535,c=Math.floor(e/65536),A=e-c*65536,e=I+c+65535,c=Math.floor(e/65536),I=e-c*65536,e=D+c+65535,c=Math.floor(e/65536),D=e-c*65536,e=B+c+65535,c=Math.floor(e/65536),B=e-c*65536,e=X+c+65535,c=Math.floor(e/65536),X=e-c*65536,e=z+c+65535,c=Math.floor(e/65536),z=e-c*65536,e=Y+c+65535,c=Math.floor(e/65536),Y=e-c*65536,e=q+c+65535,c=Math.floor(e/65536),q=e-c*65536,e=k+c+65535,c=Math.floor(e/65536),k=e-c*65536,l+=c-1+37*(c-1),c=1,e=l+c+65535,c=Math.floor(e/65536),l=e-c*65536,e=p+c+65535,c=Math.floor(e/65536),p=e-c*65536,e=g+c+65535,c=Math.floor(e/65536),g=e-c*65536,e=S+c+65535,c=Math.floor(e/65536),S=e-c*65536,e=j+c+65535,c=Math.floor(e/65536),j=e-c*65536,e=E+c+65535,c=Math.floor(e/65536),E=e-c*65536,e=et+c+65535,c=Math.floor(e/65536),et=e-c*65536,e=A+c+65535,c=Math.floor(e/65536),A=e-c*65536,e=I+c+65535,c=Math.floor(e/65536),I=e-c*65536,e=D+c+65535,c=Math.floor(e/65536),D=e-c*65536,e=B+c+65535,c=Math.floor(e/65536),B=e-c*65536,e=X+c+65535,c=Math.floor(e/65536),X=e-c*65536,e=z+c+65535,c=Math.floor(e/65536),z=e-c*65536,e=Y+c+65535,c=Math.floor(e/65536),Y=e-c*65536,e=q+c+65535,c=Math.floor(e/65536),q=e-c*65536,e=k+c+65535,c=Math.floor(e/65536),k=e-c*65536,l+=c-1+37*(c-1),i[0]=l,i[1]=p,i[2]=g,i[3]=S,i[4]=j,i[5]=E,i[6]=et,i[7]=A,i[8]=I,i[9]=D,i[10]=B,i[11]=X,i[12]=z,i[13]=Y,i[14]=q,i[15]=k}function _t(i,a){V(i,a,a)}function Ie(i,a){var f=T(),e;for(e=0;e<16;e++)f[e]=a[e];for(e=253;e>=0;e--)_t(f,f),e!==2&&e!==4&&V(f,f,a);for(e=0;e<16;e++)i[e]=f[e]}function ht(i,a){var f=T(),e;for(e=0;e<16;e++)f[e]=a[e];for(e=250;e>=0;e--)_t(f,f),e!==1&&V(f,f,a);for(e=0;e<16;e++)i[e]=f[e]}function Kt(i,a,f){var e=new Uint8Array(32),c=new Float64Array(80),l,p,g=T(),S=T(),j=T(),E=T(),et=T(),A=T();for(p=0;p<31;p++)e[p]=a[p];for(e[31]=a[31]&127|64,e[0]&=248,be(c,f),p=0;p<16;p++)S[p]=c[p],E[p]=g[p]=j[p]=0;for(g[0]=E[0]=1,p=254;p>=0;--p)l=e[p>>>3]>>>(p&7)&1,Nt(g,S,l),Nt(j,E,l),Ot(et,g,j),Et(g,g,j),Ot(j,S,E),Et(S,S,E),_t(E,et),_t(A,g),V(g,j,g),V(j,S,et),Ot(et,g,j),Et(g,g,j),_t(S,g),Et(j,E,A),V(g,j,le),Ot(g,g,E),V(j,j,g),V(g,E,A),V(E,S,c),_t(S,et),Nt(g,S,l),Nt(j,E,l);for(p=0;p<16;p++)c[p+16]=g[p],c[p+32]=j[p],c[p+48]=S[p],c[p+64]=E[p];var I=c.subarray(32),D=c.subarray(16);return Ie(I,I),V(D,D,I),Dt(i,D),0}function oe(i,a){return Kt(i,a,xt)}function Zt(i,a){return Z(a,32),oe(i,a)}function se(i,a,f){var e=new Uint8Array(32);return Kt(e,f,a),At(i,N,e,Bt)}var Ne=ve,Ve=It;function Qe(i,a,f,e,c,l){var p=new Uint8Array(32);return se(p,c,l),Ne(i,a,f,e,p)}function $e(i,a,f,e,c,l){var p=new Uint8Array(32);return se(p,c,l),Ve(i,a,f,e,p)}var De=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ze(i,a,f,e){for(var c=new Int32Array(16),l=new Int32Array(16),p,g,S,j,E,et,A,I,D,B,X,z,Y,q,k,U,P,L,R,O,d,x,_,y,b,w,M=i[0],W=i[1],H=i[2],F=i[3],u=i[4],K=i[5],nt=i[6],rt=i[7],G=a[0],$=a[1],tt=a[2],lt=a[3],ot=a[4],at=a[5],it=a[6],ct=a[7],dt=0;e>=128;){for(R=0;R<16;R++)O=8*R+dt,c[R]=f[O+0]<<24|f[O+1]<<16|f[O+2]<<8|f[O+3],l[R]=f[O+4]<<24|f[O+5]<<16|f[O+6]<<8|f[O+7];for(R=0;R<80;R++)if(p=M,g=W,S=H,j=F,E=u,et=K,A=nt,I=rt,D=G,B=$,X=tt,z=lt,Y=ot,q=at,k=it,U=ct,d=rt,x=ct,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=(u>>>14|ot<<32-14)^(u>>>18|ot<<32-18)^(ot>>>41-32|u<<32-(41-32)),x=(ot>>>14|u<<32-14)^(ot>>>18|u<<32-18)^(u>>>41-32|ot<<32-(41-32)),_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,d=u&K^~u&nt,x=ot&at^~ot&it,_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,d=De[R*2],x=De[R*2+1],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,d=c[R%16],x=l[R%16],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,P=b&65535|w<<16,L=_&65535|y<<16,d=P,x=L,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=(M>>>28|G<<32-28)^(G>>>34-32|M<<32-(34-32))^(G>>>39-32|M<<32-(39-32)),x=(G>>>28|M<<32-28)^(M>>>34-32|G<<32-(34-32))^(M>>>39-32|G<<32-(39-32)),_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,d=M&W^M&H^W&H,x=G&$^G&tt^$&tt,_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,I=b&65535|w<<16,U=_&65535|y<<16,d=j,x=z,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=P,x=L,_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,j=b&65535|w<<16,z=_&65535|y<<16,W=p,H=g,F=S,u=j,K=E,nt=et,rt=A,M=I,$=D,tt=B,lt=X,ot=z,at=Y,it=q,ct=k,G=U,R%16===15)for(O=0;O<16;O++)d=c[O],x=l[O],_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=c[(O+9)%16],x=l[(O+9)%16],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,P=c[(O+1)%16],L=l[(O+1)%16],d=(P>>>1|L<<32-1)^(P>>>8|L<<32-8)^P>>>7,x=(L>>>1|P<<32-1)^(L>>>8|P<<32-8)^(L>>>7|P<<32-7),_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,P=c[(O+14)%16],L=l[(O+14)%16],d=(P>>>19|L<<32-19)^(L>>>61-32|P<<32-(61-32))^P>>>6,x=(L>>>19|P<<32-19)^(P>>>61-32|L<<32-(61-32))^(L>>>6|P<<32-6),_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,c[O]=b&65535|w<<16,l[O]=_&65535|y<<16;d=M,x=G,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[0],x=a[0],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[0]=M=b&65535|w<<16,a[0]=G=_&65535|y<<16,d=W,x=$,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[1],x=a[1],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[1]=W=b&65535|w<<16,a[1]=$=_&65535|y<<16,d=H,x=tt,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[2],x=a[2],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[2]=H=b&65535|w<<16,a[2]=tt=_&65535|y<<16,d=F,x=lt,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[3],x=a[3],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[3]=F=b&65535|w<<16,a[3]=lt=_&65535|y<<16,d=u,x=ot,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[4],x=a[4],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[4]=u=b&65535|w<<16,a[4]=ot=_&65535|y<<16,d=K,x=at,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[5],x=a[5],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[5]=K=b&65535|w<<16,a[5]=at=_&65535|y<<16,d=nt,x=it,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[6],x=a[6],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[6]=nt=b&65535|w<<16,a[6]=it=_&65535|y<<16,d=rt,x=ct,_=x&65535,y=x>>>16,b=d&65535,w=d>>>16,d=i[7],x=a[7],_+=x&65535,y+=x>>>16,b+=d&65535,w+=d>>>16,y+=_>>>16,b+=y>>>16,w+=b>>>16,i[7]=rt=b&65535|w<<16,a[7]=ct=_&65535|y<<16,dt+=128,e-=128}return e}function zt(i,a,f){var e=new Int32Array(8),c=new Int32Array(8),l=new Uint8Array(256),p,g=f;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,c[0]=4089235720,c[1]=2227873595,c[2]=4271175723,c[3]=1595750129,c[4]=2917565137,c[5]=725511199,c[6]=4215389547,c[7]=327033209,ze(e,c,a,f),f%=128,p=0;p<f;p++)l[p]=a[g-f+p];for(l[f]=128,f=256-128*(f<112?1:0),l[f-9]=0,Re(l,f-8,g/536870912|0,g<<3),ze(e,c,l,f),p=0;p<8;p++)Re(i,8*p,e[p],c[p]);return 0}function fe(i,a){var f=T(),e=T(),c=T(),l=T(),p=T(),g=T(),S=T(),j=T(),E=T();Et(f,i[1],i[0]),Et(E,a[1],a[0]),V(f,f,E),Ot(e,i[0],i[1]),Ot(E,a[0],a[1]),V(e,e,E),V(c,i[3],a[3]),V(c,c,Jt),V(l,i[2],a[2]),Ot(l,l,l),Et(p,e,f),Et(g,l,c),Ot(S,l,c),Ot(j,e,f),V(i[0],p,g),V(i[1],j,S),V(i[2],S,g),V(i[3],p,j)}function qe(i,a,f){var e;for(e=0;e<4;e++)Nt(i[e],a[e],f)}function _e(i,a){var f=T(),e=T(),c=T();Ie(c,a[2]),V(f,a[0],c),V(e,a[1],c),Dt(i,e),i[31]^=ge(f)<<7}function Vt(i,a,f){var e,c;for(kt(i[0],Tt),kt(i[1],Xt),kt(i[2],Xt),kt(i[3],Tt),c=255;c>=0;--c)e=f[c/8|0]>>(c&7)&1,qe(i,a,e),fe(a,i),fe(i,i),qe(i,a,e)}function Ht(i,a){var f=[T(),T(),T(),T()];kt(f[0],Wt),kt(f[1],Le),kt(f[2],Xt),V(f[3],Wt,Le),Vt(i,f,a)}function me(i,a,f){var e=new Uint8Array(64),c=[T(),T(),T(),T()],l;for(f||Z(a,32),zt(e,a,32),e[0]&=248,e[31]&=127,e[31]|=64,Ht(c,e),_e(i,c),l=0;l<32;l++)a[l+32]=i[l];return 0}var ae=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function we(i,a){var f,e,c,l;for(e=63;e>=32;--e){for(f=0,c=e-32,l=e-12;c<l;++c)a[c]+=f-16*a[e]*ae[c-(e-32)],f=a[c]+128>>8,a[c]-=f*256;a[c]+=f,a[e]=0}for(f=0,c=0;c<32;c++)a[c]+=f-(a[31]>>4)*ae[c],f=a[c]>>8,a[c]&=255;for(c=0;c<32;c++)a[c]-=f*ae[c];for(e=0;e<32;e++)a[e+1]+=a[e]>>8,i[e]=a[e]&255}function Se(i){var a=new Float64Array(64),f;for(f=0;f<64;f++)a[f]=i[f];for(f=0;f<64;f++)i[f]=0;we(i,a)}function He(i,a,f,e){var c=new Uint8Array(64),l=new Uint8Array(64),p=new Uint8Array(64),g,S,j=new Float64Array(64),E=[T(),T(),T(),T()];zt(c,e,32),c[0]&=248,c[31]&=127,c[31]|=64;var et=f+64;for(g=0;g<f;g++)i[64+g]=a[g];for(g=0;g<32;g++)i[32+g]=c[32+g];for(zt(p,i.subarray(32),f+32),Se(p),Ht(E,p),_e(i,E),g=32;g<64;g++)i[g]=e[g];for(zt(l,i,f+64),Se(l),g=0;g<64;g++)j[g]=0;for(g=0;g<32;g++)j[g]=p[g];for(g=0;g<32;g++)for(S=0;S<32;S++)j[g+S]+=l[g]*c[S];return we(i.subarray(32),j),et}function Te(i,a){var f=T(),e=T(),c=T(),l=T(),p=T(),g=T(),S=T();return kt(i[2],Xt),be(i[1],a),_t(c,i[1]),V(l,c,ke),Et(c,c,i[2]),Ot(l,i[2],l),_t(p,l),_t(g,p),V(S,g,p),V(f,S,c),V(f,f,l),ht(f,f),V(f,f,c),V(f,f,l),V(f,f,l),V(i[0],f,l),_t(e,i[0]),V(e,e,l),Be(e,c)&&V(i[0],i[0],Ke),_t(e,i[0]),V(e,e,l),Be(e,c)?-1:(ge(i[0])===a[31]>>7&&Et(i[0],Tt,i[0]),V(i[3],i[0],i[1]),0)}function Ce(i,a,f,e){var c,l=new Uint8Array(32),p=new Uint8Array(64),g=[T(),T(),T(),T()],S=[T(),T(),T(),T()];if(f<64||Te(S,e))return-1;for(c=0;c<f;c++)i[c]=a[c];for(c=0;c<32;c++)i[c+32]=e[c];if(zt(p,i,f),Se(p),Vt(g,S,p),Ht(S,a.subarray(32)),fe(g,S),_e(l,g),f-=64,re(a,0,l,0)){for(c=0;c<f;c++)i[c]=0;return-1}for(c=0;c<f;c++)i[c]=a[c+64];return f}var Lt=32,ce=24,Qt=32,Ft=16,$t=32,Rt=32,te=32,Yt=32,ue=32,Oe=ce,Fe=Qt,tn=Ft,jt=64,qt=32,Ut=64,Ee=32,he=64;m.lowlevel={crypto_core_hsalsa20:At,crypto_stream_xor:de,crypto_stream:pt,crypto_stream_salsa20_xor:Me,crypto_stream_salsa20:vt,crypto_onetimeauth:Ct,crypto_onetimeauth_verify:xe,crypto_verify_16:je,crypto_verify_32:re,crypto_secretbox:ve,crypto_secretbox_open:It,crypto_scalarmult:Kt,crypto_scalarmult_base:oe,crypto_box_beforenm:se,crypto_box_afternm:Ne,crypto_box:Qe,crypto_box_open:$e,crypto_box_keypair:Zt,crypto_hash:zt,crypto_sign:He,crypto_sign_keypair:me,crypto_sign_open:Ce,crypto_secretbox_KEYBYTES:Lt,crypto_secretbox_NONCEBYTES:ce,crypto_secretbox_ZEROBYTES:Qt,crypto_secretbox_BOXZEROBYTES:Ft,crypto_scalarmult_BYTES:$t,crypto_scalarmult_SCALARBYTES:Rt,crypto_box_PUBLICKEYBYTES:te,crypto_box_SECRETKEYBYTES:Yt,crypto_box_BEFORENMBYTES:ue,crypto_box_NONCEBYTES:Oe,crypto_box_ZEROBYTES:Fe,crypto_box_BOXZEROBYTES:tn,crypto_sign_BYTES:jt,crypto_sign_PUBLICKEYBYTES:qt,crypto_sign_SECRETKEYBYTES:Ut,crypto_sign_SEEDBYTES:Ee,crypto_hash_BYTES:he,gf:T,D:ke,L:ae,pack25519:Dt,unpack25519:be,M:V,A:Ot,S:_t,Z:Et,pow2523:ht,add:fe,set25519:kt,modL:we,scalarmult:Vt,scalarbase:Ht};function Ye(i,a){if(i.length!==Lt)throw new Error("bad key size");if(a.length!==ce)throw new Error("bad nonce size")}function en(i,a){if(i.length!==te)throw new Error("bad public key size");if(a.length!==Yt)throw new Error("bad secret key size")}function mt(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Xe(i){for(var a=0;a<i.length;a++)i[a]=0}m.randomBytes=function(i){var a=new Uint8Array(i);return Z(a,i),a},m.secretbox=function(i,a,f){mt(i,a,f),Ye(f,a);for(var e=new Uint8Array(Qt+i.length),c=new Uint8Array(e.length),l=0;l<i.length;l++)e[l+Qt]=i[l];return ve(c,e,e.length,a,f),c.subarray(Ft)},m.secretbox.open=function(i,a,f){mt(i,a,f),Ye(f,a);for(var e=new Uint8Array(Ft+i.length),c=new Uint8Array(e.length),l=0;l<i.length;l++)e[l+Ft]=i[l];return e.length<32||It(c,e,e.length,a,f)!==0?null:c.subarray(Qt)},m.secretbox.keyLength=Lt,m.secretbox.nonceLength=ce,m.secretbox.overheadLength=Ft,m.scalarMult=function(i,a){if(mt(i,a),i.length!==Rt)throw new Error("bad n size");if(a.length!==$t)throw new Error("bad p size");var f=new Uint8Array($t);return Kt(f,i,a),f},m.scalarMult.base=function(i){if(mt(i),i.length!==Rt)throw new Error("bad n size");var a=new Uint8Array($t);return oe(a,i),a},m.scalarMult.scalarLength=Rt,m.scalarMult.groupElementLength=$t,m.box=function(i,a,f,e){var c=m.box.before(f,e);return m.secretbox(i,a,c)},m.box.before=function(i,a){mt(i,a),en(i,a);var f=new Uint8Array(ue);return se(f,i,a),f},m.box.after=m.secretbox,m.box.open=function(i,a,f,e){var c=m.box.before(f,e);return m.secretbox.open(i,a,c)},m.box.open.after=m.secretbox.open,m.box.keyPair=function(){var i=new Uint8Array(te),a=new Uint8Array(Yt);return Zt(i,a),{publicKey:i,secretKey:a}},m.box.keyPair.fromSecretKey=function(i){if(mt(i),i.length!==Yt)throw new Error("bad secret key size");var a=new Uint8Array(te);return oe(a,i),{publicKey:a,secretKey:new Uint8Array(i)}},m.box.publicKeyLength=te,m.box.secretKeyLength=Yt,m.box.sharedKeyLength=ue,m.box.nonceLength=Oe,m.box.overheadLength=m.secretbox.overheadLength,m.sign=function(i,a){if(mt(i,a),a.length!==Ut)throw new Error("bad secret key size");var f=new Uint8Array(jt+i.length);return He(f,i,i.length,a),f},m.sign.open=function(i,a){if(mt(i,a),a.length!==qt)throw new Error("bad public key size");var f=new Uint8Array(i.length),e=Ce(f,i,i.length,a);if(e<0)return null;for(var c=new Uint8Array(e),l=0;l<c.length;l++)c[l]=f[l];return c},m.sign.detached=function(i,a){for(var f=m.sign(i,a),e=new Uint8Array(jt),c=0;c<e.length;c++)e[c]=f[c];return e},m.sign.detached.verify=function(i,a,f){if(mt(i,a,f),a.length!==jt)throw new Error("bad signature size");if(f.length!==qt)throw new Error("bad public key size");var e=new Uint8Array(jt+i.length),c=new Uint8Array(jt+i.length),l;for(l=0;l<jt;l++)e[l]=a[l];for(l=0;l<i.length;l++)e[l+jt]=i[l];return Ce(c,e,e.length,f)>=0},m.sign.keyPair=function(){var i=new Uint8Array(qt),a=new Uint8Array(Ut);return me(i,a),{publicKey:i,secretKey:a}},m.sign.keyPair.fromSecretKey=function(i){if(mt(i),i.length!==Ut)throw new Error("bad secret key size");for(var a=new Uint8Array(qt),f=0;f<a.length;f++)a[f]=i[32+f];return{publicKey:a,secretKey:new Uint8Array(i)}},m.sign.keyPair.fromSeed=function(i){if(mt(i),i.length!==Ee)throw new Error("bad seed size");for(var a=new Uint8Array(qt),f=new Uint8Array(Ut),e=0;e<32;e++)f[e]=i[e];return me(a,f,!0),{publicKey:a,secretKey:f}},m.sign.publicKeyLength=qt,m.sign.secretKeyLength=Ut,m.sign.seedLength=Ee,m.sign.signatureLength=jt,m.hash=function(i){mt(i);var a=new Uint8Array(he);return zt(a,i,i.length),a},m.hash.hashLength=he,m.verify=function(i,a){return mt(i,a),i.length===0||a.length===0||i.length!==a.length?!1:pe(i,0,a,0,i.length)===0},m.setPRNG=function(i){Z=i},function(){var i=typeof self<"u"?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){var a=65536;m.setPRNG(function(f,e){var c,l=new Uint8Array(e);for(c=0;c<e;c+=a)i.getRandomValues(l.subarray(c,c+Math.min(e-c,a)));for(c=0;c<e;c++)f[c]=l[c];Xe(l)})}else i=ft(3),i&&i.randomBytes&&m.setPRNG(function(f,e){var c,l=i.randomBytes(e);for(c=0;c<e;c++)f[c]=l[c];Xe(l)})}()})(wt.exports?wt.exports:self.nacl=self.nacl||{})},function(wt,Pt,ft){(function(m,T){wt.exports?wt.exports=T():(m.nacl||(m.nacl={}),m.nacl.util=T())})(this,function(){var m={};function T(Z){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(Z))throw new TypeError("invalid encoding")}return m.decodeUTF8=function(Z){if(typeof Z!="string")throw new TypeError("expected string");var N,xt=unescape(encodeURIComponent(Z)),Tt=new Uint8Array(xt.length);for(N=0;N<xt.length;N++)Tt[N]=xt.charCodeAt(N);return Tt},m.encodeUTF8=function(Z){var N,xt=[];for(N=0;N<Z.length;N++)xt.push(String.fromCharCode(Z[N]));return decodeURIComponent(escape(xt.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(m.encodeBase64=function(Z){return Buffer.from(Z).toString("base64")},m.decodeBase64=function(Z){return T(Z),new Uint8Array(Array.prototype.slice.call(Buffer.from(Z,"base64"),0))}):(m.encodeBase64=function(Z){return new Buffer(Z).toString("base64")},m.decodeBase64=function(Z){return T(Z),new Uint8Array(Array.prototype.slice.call(new Buffer(Z,"base64"),0))}):(m.encodeBase64=function(Z){var N,xt=[],Tt=Z.length;for(N=0;N<Tt;N++)xt.push(String.fromCharCode(Z[N]));return btoa(xt.join(""))},m.decodeBase64=function(Z){T(Z);var N,xt=atob(Z),Tt=new Uint8Array(xt.length);for(N=0;N<xt.length;N++)Tt[N]=xt.charCodeAt(N);return Tt}),m})},function(wt,Pt,ft){wt.exports=ft(4).default},function(wt,Pt){},function(wt,Pt,ft){ft.r(Pt);var m=function(){function n(t,r){this.lastId=0,this.prefix=t,this.name=r}return n.prototype.create=function(t){this.lastId++;var r=this.lastId,o=this.prefix+r,s=this.name+"["+r+"]",h=!1,v=function(){h||(t.apply(null,arguments),h=!0)};return this[r]=v,{number:r,id:o,name:s,callback:v}},n.prototype.remove=function(t){delete this[t.number]},n}(),T=new m("_pusher_script_","Pusher.ScriptReceivers"),Z={VERSION:"5.1.1",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},N=Z,xt=function(){function n(t){this.options=t,this.receivers=t.receivers||T,this.loading={}}return n.prototype.load=function(t,r,o){var s=this;if(s.loading[t]&&s.loading[t].length>0)s.loading[t].push(o);else{s.loading[t]=[o];var h=Q.createScriptRequest(s.getPath(t,r)),v=s.receivers.create(function(C){if(s.receivers.remove(v),s.loading[t]){var J=s.loading[t];delete s.loading[t];for(var st=function(St){St||h.cleanup()},yt=0;yt<J.length;yt++)J[yt](C,st)}});h.send(v)}},n.prototype.getRoot=function(t){var r,o=Q.getDocument().location.protocol;return t&&t.useTLS||o==="https:"?r=this.options.cdn_https:r=this.options.cdn_http,r.replace(/\/*$/,"")+"/"+this.options.version},n.prototype.getPath=function(t,r){return this.getRoot(r)+"/"+t+this.options.suffix+".js"},n}(),Tt=xt,Xt=new m("_pusher_dependencies","Pusher.DependenciesReceivers"),le=new Tt({cdn_http:N.cdn_http,cdn_https:N.cdn_https,version:N.VERSION,suffix:N.dependency_suffix,receivers:Xt});function ke(n){return pe(Ke(n))}var Jt=String.fromCharCode,Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le=function(n){var t=n.charCodeAt(0);return t<128?n:t<2048?Jt(192|t>>>6)+Jt(128|t&63):Jt(224|t>>>12&15)+Jt(128|t>>>6&63)+Jt(128|t&63)},Ke=function(n){return n.replace(/[^\x00-\x7F]/g,Le)},Re=function(n){var t=[0,2,1][n.length%3],r=n.charCodeAt(0)<<16|(n.length>1?n.charCodeAt(1):0)<<8|(n.length>2?n.charCodeAt(2):0),o=[Wt.charAt(r>>>18),Wt.charAt(r>>>12&63),t>=2?"=":Wt.charAt(r>>>6&63),t>=1?"=":Wt.charAt(r&63)];return o.join("")},pe=window.btoa||function(n){return n.replace(/[\s\S]{1,3}/g,Re)},je=function(){function n(t,r,o,s){var h=this;this.clear=r,this.timer=t(function(){h.timer&&(h.timer=s(h.timer))},o)}return n.prototype.isRunning=function(){return this.timer!==null},n.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},n}(),re=je,Ue=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}();function Ze(n){window.clearTimeout(n)}function ie(n){window.clearInterval(n)}var At=function(n){Ue(t,n);function t(r,o){return n.call(this,setTimeout,Ze,r,function(s){return o(),null})||this}return t}(re),Bt=function(n){Ue(t,n);function t(r,o){return n.call(this,setInterval,ie,r,function(s){return o(),s})||this}return t}(re),Me={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(n){return new At(0,n)},method:function(n){var t=Array.prototype.slice.call(arguments,1);return function(r){return r[n].apply(r,t.concat(arguments))}}},vt=Me;function pt(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=0;o<t.length;o++){var s=t[o];for(var h in s)s[h]&&s[h].constructor&&s[h].constructor===Object?n[h]=pt(n[h]||{},s[h]):n[h]=s[h]}return n}function de(){for(var n=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?n.push(arguments[t]):n.push(_t(arguments[t]));return n.join(" : ")}function Gt(n,t){var r=Array.prototype.indexOf;if(n===null)return-1;if(r&&n.indexOf===r)return n.indexOf(t);for(var o=0,s=n.length;o<s;o++)if(n[o]===t)return o;return-1}function Ct(n,t){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t(n[r],r,n)}function xe(n){var t=[];return Ct(n,function(r,o){t.push(o)}),t}function ve(n){var t=[];return Ct(n,function(r){t.push(r)}),t}function It(n,t,r){for(var o=0;o<n.length;o++)t.call(r||window,n[o],o,n)}function kt(n,t){for(var r=[],o=0;o<n.length;o++)r.push(t(n[o],o,n,r));return r}function ye(n,t){var r={};return Ct(n,function(o,s){r[s]=t(o)}),r}function Nt(n,t){t=t||function(s){return!!s};for(var r=[],o=0;o<n.length;o++)t(n[o],o,n,r)&&r.push(n[o]);return r}function Dt(n,t){var r={};return Ct(n,function(o,s){(t&&t(o,s,n,r)||o)&&(r[s]=o)}),r}function Be(n){var t=[];return Ct(n,function(r,o){t.push([o,r])}),t}function ge(n,t){for(var r=0;r<n.length;r++)if(t(n[r],r,n))return!0;return!1}function be(n,t){for(var r=0;r<n.length;r++)if(!t(n[r],r,n))return!1;return!0}function Ot(n){return ye(n,function(t){return typeof t=="object"&&(t=_t(t)),encodeURIComponent(ke(t.toString()))})}function Et(n){var t=Dt(n,function(o){return o!==void 0}),r=kt(Be(Ot(t)),vt.method("join","=")).join("&");return r}function V(n){var t=[],r=[];return function o(s,h){var v,C,J;switch(typeof s){case"object":if(!s)return null;for(v=0;v<t.length;v+=1)if(t[v]===s)return{$ref:r[v]};if(t.push(s),r.push(h),Object.prototype.toString.apply(s)==="[object Array]")for(J=[],v=0;v<s.length;v+=1)J[v]=o(s[v],h+"["+v+"]");else{J={};for(C in s)Object.prototype.hasOwnProperty.call(s,C)&&(J[C]=o(s[C],h+"["+JSON.stringify(C)+"]"))}return J;case"number":case"string":case"boolean":return s}}(n,"$")}function _t(n){try{return JSON.stringify(n)}catch{return JSON.stringify(V(n))}}var Ie=function(){function n(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return n.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.log(this.globalLog,t)},n.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.log(this.globalLogWarn,t)},n.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.log(this.globalLogError,t)},n.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},n.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},n.prototype.log=function(t){var r=de.apply(this,arguments);if(fn.log)fn.log(r);else if(fn.logToConsole){var o=t.bind(this);o(r)}},n}(),ht=new Ie,Kt={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}},oe=function(n){var t="See:",r=Kt.urls[n];if(!r)return"";var o;return r.fullUrl?o=r.fullUrl:r.path&&(o=Kt.baseUrl+r.path),o?t+" "+o:""},Zt={buildLogSuffix:oe},se=function(n,t,r){var o=this,s;s=Q.createXHR(),s.open("POST",o.options.authEndpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var h in this.authOptions.headers)s.setRequestHeader(h,this.authOptions.headers[h]);return s.onreadystatechange=function(){if(s.readyState===4)if(s.status===200){var v,C=!1;try{v=JSON.parse(s.responseText),C=!0}catch{r(!0,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+s.responseText)}C&&r(!1,v)}else{var J=Zt.buildLogSuffix("authenticationEndpoint");ht.error("Unable to retrieve auth string from auth endpoint - "+("received status "+s.status+" from "+o.options.authEndpoint+". ")+("Clients must be authenticated to join private or presence channels. "+J)),r(!0,s.status)}},s.send(this.composeQuery(t)),s},Ne=se,Ve=function(n,t,r){this.authOptions.headers!==void 0&&ht.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=n.nextAuthCallbackID.toString();n.nextAuthCallbackID++;var s=n.getDocument(),h=s.createElement("script");n.auth_callbacks[o]=function(J){r(!1,J)};var v="Pusher.auth_callbacks['"+o+"']";h.src=this.options.authEndpoint+"?callback="+encodeURIComponent(v)+"&"+this.composeQuery(t);var C=s.getElementsByTagName("head")[0]||s.documentElement;C.insertBefore(h,C.firstChild)},Qe=Ve,$e=function(){function n(t){this.src=t}return n.prototype.send=function(t){var r=this,o="Error loading "+r.src;r.script=document.createElement("script"),r.script.id=t.id,r.script.src=r.src,r.script.type="text/javascript",r.script.charset="UTF-8",r.script.addEventListener?(r.script.onerror=function(){t.callback(o)},r.script.onload=function(){t.callback(null)}):r.script.onreadystatechange=function(){(r.script.readyState==="loaded"||r.script.readyState==="complete")&&t.callback(null)},r.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(r.errorScript=document.createElement("script"),r.errorScript.id=t.id+"_error",r.errorScript.text=t.name+"('"+o+"');",r.script.async=r.errorScript.async=!1):r.script.async=!0;var s=document.getElementsByTagName("head")[0];s.insertBefore(r.script,s.firstChild),r.errorScript&&s.insertBefore(r.errorScript,r.script.nextSibling)},n.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},n}(),De=$e,ze=function(){function n(t,r){this.url=t,this.data=r}return n.prototype.send=function(t){if(!this.request){var r=Et(this.data),o=this.url+"/"+t.number+"?"+r;this.request=Q.createScriptRequest(o),this.request.send(t)}},n.prototype.cleanup=function(){this.request&&this.request.cleanup()},n}(),zt=ze,fe=function(n,t){return function(r,o){var s="http"+(t?"s":"")+"://",h=s+(n.host||n.options.host)+n.options.path,v=Q.createJSONPRequest(h,r),C=Q.ScriptReceivers.create(function(J,st){T.remove(C),v.cleanup(),st&&st.host&&(n.host=st.host),o&&o(J,st)});v.send(C)}},qe={name:"jsonp",getAgent:fe},_e=qe;function Vt(n,t,r){var o=n+(t.useTLS?"s":""),s=t.useTLS?t.hostTLS:t.hostNonTLS;return o+"://"+s+r}function Ht(n,t){var r="/app/"+n,o="?protocol="+N.PROTOCOL+"&client=js&version="+N.VERSION+(t?"&"+t:"");return r+o}var me={getInitial:function(n,t){var r=(t.httpPath||"")+Ht(n,"flash=false");return Vt("ws",t,r)}},ae={getInitial:function(n,t){var r=(t.httpPath||"/pusher")+Ht(n);return Vt("http",t,r)}},we={getInitial:function(n,t){return Vt("http",t,t.httpPath||"/pusher")},getPath:function(n,t){return Ht(n)}},Se=function(){function n(){this._callbacks={}}return n.prototype.get=function(t){return this._callbacks[Te(t)]},n.prototype.add=function(t,r,o){var s=Te(t);this._callbacks[s]=this._callbacks[s]||[],this._callbacks[s].push({fn:r,context:o})},n.prototype.remove=function(t,r,o){if(!t&&!r&&!o){this._callbacks={};return}var s=t?[Te(t)]:xe(this._callbacks);r||o?this.removeCallback(s,r,o):this.removeAllCallbacks(s)},n.prototype.removeCallback=function(t,r,o){It(t,function(s){this._callbacks[s]=Nt(this._callbacks[s]||[],function(h){return r&&r!==h.fn||o&&o!==h.context}),this._callbacks[s].length===0&&delete this._callbacks[s]},this)},n.prototype.removeAllCallbacks=function(t){It(t,function(r){delete this._callbacks[r]},this)},n}(),He=Se;function Te(n){return"_"+n}var Ce=function(){function n(t){this.callbacks=new He,this.global_callbacks=[],this.failThrough=t}return n.prototype.bind=function(t,r,o){return this.callbacks.add(t,r,o),this},n.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},n.prototype.unbind=function(t,r,o){return this.callbacks.remove(t,r,o),this},n.prototype.unbind_global=function(t){return t?(this.global_callbacks=Nt(this.global_callbacks||[],function(r){return r!==t}),this):(this.global_callbacks=[],this)},n.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},n.prototype.emit=function(t,r,o){for(var s=0;s<this.global_callbacks.length;s++)this.global_callbacks[s](t,r);var h=this.callbacks.get(t),v=[];if(o?v.push(r,o):r&&v.push(r),h&&h.length>0)for(var s=0;s<h.length;s++)h[s].fn.apply(h[s].context||window,v);else this.failThrough&&this.failThrough(t,r);return this},n}(),Lt=Ce,ce=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qt=function(n){ce(t,n);function t(r,o,s,h,v){var C=n.call(this)||this;return C.initialize=Q.transportConnectionInitializer,C.hooks=r,C.name=o,C.priority=s,C.key=h,C.options=v,C.state="new",C.timeline=v.timeline,C.activityTimeout=v.activityTimeout,C.id=C.timeline.generateUniqueID(),C}return t.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},t.prototype.supportsPing=function(){return!!this.hooks.supportsPing},t.prototype.connect=function(){var r=this;if(this.socket||this.state!=="initialized")return!1;var o=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(o,this.options)}catch(s){return vt.defer(function(){r.onError(s),r.changeState("closed")}),!1}return this.bindListeners(),ht.debug("Connecting",{transport:this.name,url:o}),this.changeState("connecting"),!0},t.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},t.prototype.send=function(r){var o=this;return this.state==="open"?(vt.defer(function(){o.socket&&o.socket.send(r)}),!0):!1},t.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(r){this.emit("error",{type:"WebSocketError",error:r}),this.timeline.error(this.buildTimelineMessage({error:r.toString()}))},t.prototype.onClose=function(r){r?this.changeState("closed",{code:r.code,reason:r.reason,wasClean:r.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(r){this.emit("message",r)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var r=this;this.socket.onopen=function(){r.onOpen()},this.socket.onerror=function(o){r.onError(o)},this.socket.onclose=function(o){r.onClose(o)},this.socket.onmessage=function(o){r.onMessage(o)},this.supportsPing()&&(this.socket.onactivity=function(){r.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(r,o){this.state=r,this.timeline.info(this.buildTimelineMessage({state:r,params:o})),this.emit(r,o)},t.prototype.buildTimelineMessage=function(r){return pt({cid:this.id},r)},t}(Lt),Ft=Qt,$t=function(){function n(t){this.hooks=t}return n.prototype.isSupported=function(t){return this.hooks.isSupported(t)},n.prototype.createConnection=function(t,r,o,s){return new Ft(this.hooks,t,r,o,s)},n}(),Rt=$t,te=new Rt({urls:me,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Q.getWebSocketAPI()},isSupported:function(){return!!Q.getWebSocketAPI()},getSocket:function(n){return Q.createWebSocket(n)}}),Yt={urls:ae,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ue=pt({getSocket:function(n){return Q.HTTPFactory.createStreamingSocket(n)}},Yt),Oe=pt({getSocket:function(n){return Q.HTTPFactory.createPollingSocket(n)}},Yt),Fe={isSupported:function(){return Q.isXHRSupported()}},tn=new Rt(pt({},ue,Fe)),jt=new Rt(pt({},Oe,Fe)),qt={ws:te,xhr_streaming:tn,xhr_polling:jt},Ut=qt,Ee=new Rt({file:"sockjs",urls:we,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(n,t){return new window.SockJS(n,null,{js_path:le.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(n,t){n.send(JSON.stringify({path:t}))}}),he={isSupported:function(n){var t=Q.isXDRSupported(n.useTLS);return t}},Ye=new Rt(pt({},ue,he)),en=new Rt(pt({},Oe,he));Ut.xdr_streaming=Ye,Ut.xdr_polling=en,Ut.sockjs=Ee;var mt=Ut,Xe=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=function(n){Xe(t,n);function t(){var r=n.call(this)||this,o=r;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){o.emit("online")},!1),window.addEventListener("offline",function(){o.emit("offline")},!1)),r}return t.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},t}(Lt),a=new i,f=function(){function n(t,r,o){this.manager=t,this.transport=r,this.minPingDelay=o.minPingDelay,this.maxPingDelay=o.maxPingDelay,this.pingDelay=void 0}return n.prototype.createConnection=function(t,r,o,s){var h=this;s=pt({},s,{activityTimeout:this.pingDelay});var v=this.transport.createConnection(t,r,o,s),C=null,J=function(){v.unbind("open",J),v.bind("closed",st),C=vt.now()},st=function(yt){if(v.unbind("closed",st),yt.code===1002||yt.code===1003)h.manager.reportDeath();else if(!yt.wasClean&&C){var St=vt.now()-C;St<2*h.maxPingDelay&&(h.manager.reportDeath(),h.pingDelay=Math.max(St/2,h.minPingDelay))}};return v.bind("open",J),v},n.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},n}(),e=f,c={decodeMessage:function(n){try{var t=JSON.parse(n.data),r=t.data;if(typeof r=="string")try{r=JSON.parse(t.data)}catch{}var o={event:t.event,channel:t.channel,data:r};return t.user_id&&(o.user_id=t.user_id),o}catch(s){throw{type:"MessageParseError",error:s,data:n.data}}},encodeMessage:function(n){return JSON.stringify(n)},processHandshake:function(n){var t=c.decodeMessage(n);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(n){return n.code<4e3?n.code>=1002&&n.code<=1004?"backoff":null:n.code===4e3?"tls_only":n.code<4100?"refused":n.code<4200?"backoff":n.code<4300?"retry":"refused"},getCloseError:function(n){return n.code!==1e3&&n.code!==1001?{type:"PusherError",data:{code:n.code,message:n.reason||n.message}}:null}},l=c,p=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),g=function(n){p(t,n);function t(r,o){var s=n.call(this)||this;return s.id=r,s.transport=o,s.activityTimeout=o.activityTimeout,s.bindListeners(),s}return t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(r){return this.transport.send(r)},t.prototype.send_event=function(r,o,s){var h={event:r,data:o};return s&&(h.channel=s),ht.debug("Event sent",h),this.send(l.encodeMessage(h))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var r=this,o={message:function(h){var v;try{v=l.decodeMessage(h)}catch(C){r.emit("error",{type:"MessageParseError",error:C,data:h.data})}if(v!==void 0){switch(ht.debug("Event recd",v),v.event){case"pusher:error":r.emit("error",{type:"PusherError",data:v.data});break;case"pusher:ping":r.emit("ping");break;case"pusher:pong":r.emit("pong");break}r.emit("message",v)}},activity:function(){r.emit("activity")},error:function(h){r.emit("error",{type:"WebSocketError",error:h})},closed:function(h){s(),h&&h.code&&r.handleCloseEvent(h),r.transport=null,r.emit("closed")}},s=function(){Ct(o,function(h,v){r.transport.unbind(v,h)})};Ct(o,function(h,v){r.transport.bind(v,h)})},t.prototype.handleCloseEvent=function(r){var o=l.getCloseAction(r),s=l.getCloseError(r);s&&this.emit("error",s),o&&this.emit(o,{action:o,error:s})},t}(Lt),S=g,j=function(){function n(t,r){this.transport=t,this.callback=r,this.bindListeners()}return n.prototype.close=function(){this.unbindListeners(),this.transport.close()},n.prototype.bindListeners=function(){var t=this;this.onMessage=function(r){t.unbindListeners();var o;try{o=l.processHandshake(r)}catch(s){t.finish("error",{error:s}),t.transport.close();return}o.action==="connected"?t.finish("connected",{connection:new S(o.id,t.transport),activityTimeout:o.activityTimeout}):(t.finish(o.action,{error:o.error}),t.transport.close())},this.onClosed=function(r){t.unbindListeners();var o=l.getCloseAction(r)||"backoff",s=l.getCloseError(r);t.finish(o,{error:s})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},n.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},n.prototype.finish=function(t,r){this.callback(pt({transport:this.transport,action:t},r))},n}(),E=j,et=function(){function n(t,r){this.channel=t;var o=r.authTransport;if(typeof Q.getAuthorizers()[o]>"u")throw"'"+o+"' is not a recognized auth transport";this.type=o,this.options=r,this.authOptions=(r||{}).auth||{}}return n.prototype.composeQuery=function(t){var r="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var o in this.authOptions.params)r+="&"+encodeURIComponent(o)+"="+encodeURIComponent(this.authOptions.params[o]);return r},n.prototype.authorize=function(t,r){n.authorizers=n.authorizers||Q.getAuthorizers(),n.authorizers[this.type].call(this,Q,t,r)},n}(),A=et,I=function(){function n(t,r){this.timeline=t,this.options=r||{}}return n.prototype.send=function(t,r){this.timeline.isEmpty()||this.timeline.send(Q.TimelineTransport.getAgent(this,t),r)},n}(),D=I,B=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),X=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),z=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),Y=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),q=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),k=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),U=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),P=function(n){B(t,n);function t(r){var o=this.constructor,s=n.call(this,r)||this;return Object.setPrototypeOf(s,o.prototype),s}return t}(Error),L=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),R=function(n){L(t,n);function t(r,o){var s=n.call(this,function(h,v){ht.debug("No callbacks on "+r+" for "+h)})||this;return s.name=r,s.pusher=o,s.subscribed=!1,s.subscriptionPending=!1,s.subscriptionCancelled=!1,s}return t.prototype.authorize=function(r,o){return o(!1,{auth:""})},t.prototype.trigger=function(r,o){if(r.indexOf("client-")!==0)throw new X("Event '"+r+"' does not start with 'client-'");if(!this.subscribed){var s=Zt.buildLogSuffix("triggeringClientEvents");ht.warn("Client event triggered before channel 'subscription_succeeded' event . "+s)}return this.pusher.send_event(r,o,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(r){var o=r.event,s=r.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(r);else if(o.indexOf("pusher_internal:")!==0){var h={};this.emit(o,s,h)}},t.prototype.handleSubscriptionSucceededEvent=function(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",r.data)},t.prototype.subscribe=function(){var r=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(o,s){o?(ht.error(s),r.emit("pusher:subscription_error",s)):(s=s,r.pusher.send_event("pusher:subscribe",{auth:s.auth,channel_data:s.channel_data,channel:r.name}))}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(Lt),O=R,d=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),x=function(n){d(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.authorize=function(r,o){var s=it.createAuthorizer(this,this.pusher.config);return s.authorize(r,o)},t}(O),_=x,y=function(){function n(){this.reset()}return n.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},n.prototype.each=function(t){var r=this;Ct(this.members,function(o,s){t(r.get(s))})},n.prototype.setMyID=function(t){this.myID=t},n.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},n.prototype.addMember=function(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},n.prototype.removeMember=function(t){var r=this.get(t.user_id);return r&&(delete this.members[t.user_id],this.count--),r},n.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},n}(),b=y,w=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),M=function(n){w(t,n);function t(r,o){var s=n.call(this,r,o)||this;return s.members=new b,s}return t.prototype.authorize=function(r,o){var s=this;n.prototype.authorize.call(this,r,function(h,v){if(!h){if(v=v,v.channel_data===void 0){var C=Zt.buildLogSuffix("authenticationEndpoint");ht.error("Invalid auth response for channel '"+s.name+"',"+("expected 'channel_data' field. "+C)),o("Invalid auth response");return}var J=JSON.parse(v.channel_data);s.members.setMyID(J.user_id)}o(h,v)})},t.prototype.handleEvent=function(r){var o=r.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(r);else{var s=r.data,h={};r.user_id&&(h.user_id=r.user_id),this.emit(o,s,h)}},t.prototype.handleInternalEvent=function(r){var o=r.event,s=r.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(r);break;case"pusher_internal:member_added":var h=this.members.addMember(s);this.emit("pusher:member_added",h);break;case"pusher_internal:member_removed":var v=this.members.removeMember(s);v&&this.emit("pusher:member_removed",v);break}},t.prototype.handleSubscriptionSucceededEvent=function(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(r.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),n.prototype.disconnect.call(this)},t}(_),W=M,H=ft(0),F=ft(1),u=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),K=function(n){u(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.key=null,r}return t.prototype.authorize=function(r,o){var s=this;n.prototype.authorize.call(this,r,function(h,v){if(h){o(!0,v);return}var C=v.shared_secret;if(!C){var J="No shared_secret key in auth payload for encrypted channel: "+s.name;o(!0,J);return}s.key=Object(F.decodeBase64)(C),delete v.shared_secret,o(!1,v)})},t.prototype.trigger=function(r,o){throw new k("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(r){var o=r.event,s=r.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){n.prototype.handleEvent.call(this,r);return}this.handleEncryptedEvent(o,s)},t.prototype.handleEncryptedEvent=function(r,o){var s=this;if(!this.key){ht.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){ht.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}var h=Object(F.decodeBase64)(o.ciphertext);if(h.length<H.secretbox.overheadLength){ht.error("Expected encrypted event ciphertext length to be "+H.secretbox.overheadLength+", got: "+h.length);return}var v=Object(F.decodeBase64)(o.nonce);if(v.length<H.secretbox.nonceLength){ht.error("Expected encrypted event nonce length to be "+H.secretbox.nonceLength+", got: "+v.length);return}var C=H.secretbox.open(h,v,this.key);if(C===null){ht.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(J,st){if(J){ht.error("Failed to make a request to the authEndpoint: "+st+". Unable to fetch new key, so dropping encrypted event");return}if(C=H.secretbox.open(h,v,s.key),C===null){ht.error("Failed to decrypt event with new key. Dropping encrypted event");return}s.emitJSON(r,Object(F.encodeUTF8)(C))});return}this.emitJSON(r,Object(F.encodeUTF8)(C))},t.prototype.emitJSON=function(r,o){try{this.emit(r,JSON.parse(o))}catch{this.emit(r,o)}return this},t}(_),nt=K,rt=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),G=function(n){rt(t,n);function t(r,o){var s=n.call(this)||this;s.key=r,s.options=o||{},s.state="initialized",s.connection=null,s.usingTLS=!!o.useTLS,s.timeline=s.options.timeline,s.errorCallbacks=s.buildErrorCallbacks(),s.connectionCallbacks=s.buildConnectionCallbacks(s.errorCallbacks),s.handshakeCallbacks=s.buildHandshakeCallbacks(s.errorCallbacks);var h=Q.getNetwork();return h.bind("online",function(){s.timeline.info({netinfo:"online"}),(s.state==="connecting"||s.state==="unavailable")&&s.retryIn(0)}),h.bind("offline",function(){s.timeline.info({netinfo:"offline"}),s.connection&&s.sendActivityCheck()}),s.updateStrategy(),s}return t.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(r){return this.connection?this.connection.send(r):!1},t.prototype.send_event=function(r,o,s){return this.connection?this.connection.send_event(r,o,s):!1},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var r=this,o=function(s,h){s?r.runner=r.strategy.connect(0,o):h.action==="error"?(r.emit("error",{type:"HandshakeError",error:h.error}),r.timeline.error({handshakeError:h.error})):(r.abortConnecting(),r.handshakeCallbacks[h.action](h))};this.runner=this.strategy.connect(0,o)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var r=this.abandonConnection();r.close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(r){var o=this;this.timeline.info({action:"retry",delay:r}),r>0&&this.emit("connecting_in",Math.round(r/1e3)),this.retryTimer=new At(r||0,function(){o.disconnectInternally(),o.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var r=this;this.unavailableTimer=new At(this.options.unavailableTimeout,function(){r.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var r=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new At(this.options.pongTimeout,function(){r.timeline.error({pong_timed_out:r.options.pongTimeout}),r.retryIn(0)})},t.prototype.resetActivityCheck=function(){var r=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new At(this.activityTimeout,function(){r.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(r){var o=this;return pt({},r,{message:function(s){o.resetActivityCheck(),o.emit("message",s)},ping:function(){o.send_event("pusher:pong",{})},activity:function(){o.resetActivityCheck()},error:function(s){o.emit("error",{type:"WebSocketError",error:s})},closed:function(){o.abandonConnection(),o.shouldRetry()&&o.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(r){var o=this;return pt({},r,{connected:function(s){o.activityTimeout=Math.min(o.options.activityTimeout,s.activityTimeout,s.connection.activityTimeout||1/0),o.clearUnavailableTimer(),o.setConnection(s.connection),o.socket_id=o.connection.id,o.updateState("connected",{socket_id:o.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var r=this,o=function(s){return function(h){h.error&&r.emit("error",{type:"WebSocketError",error:h.error}),s(h)}};return{tls_only:o(function(){r.usingTLS=!0,r.updateStrategy(),r.retryIn(0)}),refused:o(function(){r.disconnect()}),backoff:o(function(){r.retryIn(1e3)}),retry:o(function(){r.retryIn(0)})}},t.prototype.setConnection=function(r){this.connection=r;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var r in this.connectionCallbacks)this.connection.unbind(r,this.connectionCallbacks[r]);var o=this.connection;return this.connection=null,o}},t.prototype.updateState=function(r,o){var s=this.state;if(this.state=r,s!==r){var h=r;h==="connected"&&(h+=" with new socket ID "+o.socket_id),ht.debug("State changed",s+" -> "+h),this.timeline.info({state:r,params:o}),this.emit("state_change",{previous:s,current:r}),this.emit(r,o)}},t.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},t}(Lt),$=G,tt=function(){function n(){this.channels={}}return n.prototype.add=function(t,r){return this.channels[t]||(this.channels[t]=ot(t,r)),this.channels[t]},n.prototype.all=function(){return ve(this.channels)},n.prototype.find=function(t){return this.channels[t]},n.prototype.remove=function(t){var r=this.channels[t];return delete this.channels[t],r},n.prototype.disconnect=function(){Ct(this.channels,function(t){t.disconnect()})},n}(),lt=tt;function ot(n,t){return n.indexOf("private-encrypted-")===0?it.createEncryptedChannel(n,t):n.indexOf("private-")===0?it.createPrivateChannel(n,t):n.indexOf("presence-")===0?it.createPresenceChannel(n,t):it.createChannel(n,t)}var at={createChannels:function(){return new lt},createConnectionManager:function(n,t){return new $(n,t)},createChannel:function(n,t){return new O(n,t)},createPrivateChannel:function(n,t){return new _(n,t)},createPresenceChannel:function(n,t){return new W(n,t)},createEncryptedChannel:function(n,t){return new nt(n,t)},createTimelineSender:function(n,t){return new D(n,t)},createAuthorizer:function(n,t){return t.authorizer?t.authorizer(n,t):new A(n,t)},createHandshake:function(n,t){return new E(n,t)},createAssistantToTheTransportManager:function(n,t,r){return new e(n,t,r)}},it=at,ct=function(){function n(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return n.prototype.getAssistant=function(t){return it.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},n.prototype.isAlive=function(){return this.livesLeft>0},n.prototype.reportDeath=function(){this.livesLeft-=1},n}(),dt=ct,gt=function(){function n(t,r){this.strategies=t,this.loop=!!r.loop,this.failFast=!!r.failFast,this.timeout=r.timeout,this.timeoutLimit=r.timeoutLimit}return n.prototype.isSupported=function(){return ge(this.strategies,vt.method("isSupported"))},n.prototype.connect=function(t,r){var o=this,s=this.strategies,h=0,v=this.timeout,C=null,J=function(st,yt){yt?r(null,yt):(h=h+1,o.loop&&(h=h%s.length),h<s.length?(v&&(v=v*2,o.timeoutLimit&&(v=Math.min(v,o.timeoutLimit))),C=o.tryStrategy(s[h],t,{timeout:v,failFast:o.failFast},J)):r(!0))};return C=this.tryStrategy(s[h],t,{timeout:v,failFast:this.failFast},J),{abort:function(){C.abort()},forceMinPriority:function(st){t=st,C&&C.forceMinPriority(st)}}},n.prototype.tryStrategy=function(t,r,o,s){var h=null,v=null;return o.timeout>0&&(h=new At(o.timeout,function(){v.abort(),s(!0)})),v=t.connect(r,function(C,J){C&&h&&h.isRunning()&&!o.failFast||(h&&h.ensureAborted(),s(C,J))}),{abort:function(){h&&h.ensureAborted(),v.abort()},forceMinPriority:function(C){v.forceMinPriority(C)}}},n}(),ut=gt,bt=function(){function n(t){this.strategies=t}return n.prototype.isSupported=function(){return ge(this.strategies,vt.method("isSupported"))},n.prototype.connect=function(t,r){return Cn(this.strategies,t,function(o,s){return function(h,v){if(s[o].error=h,h){On(s)&&r(!0);return}It(s,function(C){C.forceMinPriority(v.transport.priority)}),r(null,v)}})},n}(),nn=bt;function Cn(n,t,r){var o=kt(n,function(s,h,v,C){return s.connect(t,r(h,C))});return{abort:function(){It(o,En)},forceMinPriority:function(s){It(o,function(h){h.forceMinPriority(s)})}}}function On(n){return be(n,function(t){return!!t.error})}function En(n){!n.error&&!n.aborted&&(n.abort(),n.aborted=!0)}var Pn=function(){function n(t,r,o){this.strategy=t,this.transports=r,this.ttl=o.ttl||1800*1e3,this.usingTLS=o.useTLS,this.timeline=o.timeline}return n.prototype.isSupported=function(){return this.strategy.isSupported()},n.prototype.connect=function(t,r){var o=this.usingTLS,s=kn(o),h=[this.strategy];if(s&&s.timestamp+this.ttl>=vt.now()){var v=this.transports[s.transport];v&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),h.push(new ut([v],{timeout:s.latency*2+1e3,failFast:!0})))}var C=vt.now(),J=h.pop().connect(t,function st(yt,St){yt?(un(o),h.length>0?(C=vt.now(),J=h.pop().connect(t,st)):r(yt)):(Ln(o,St.transport.name,vt.now()-C),r(null,St))});return{abort:function(){J.abort()},forceMinPriority:function(st){t=st,J&&J.forceMinPriority(st)}}},n}(),An=Pn;function rn(n){return"pusherTransport"+(n?"TLS":"NonTLS")}function kn(n){var t=Q.getLocalStorage();if(t)try{var r=t[rn(n)];if(r)return JSON.parse(r)}catch{un(n)}return null}function Ln(n,t,r){var o=Q.getLocalStorage();if(o)try{o[rn(n)]=_t({timestamp:vt.now(),transport:t,latency:r})}catch{}}function un(n){var t=Q.getLocalStorage();if(t)try{delete t[rn(n)]}catch{}}var Rn=function(){function n(t,r){var o=r.delay;this.strategy=t,this.options={delay:o}}return n.prototype.isSupported=function(){return this.strategy.isSupported()},n.prototype.connect=function(t,r){var o=this.strategy,s,h=new At(this.options.delay,function(){s=o.connect(t,r)});return{abort:function(){h.ensureAborted(),s&&s.abort()},forceMinPriority:function(v){t=v,s&&s.forceMinPriority(v)}}},n}(),Je=Rn,jn=function(){function n(t,r,o){this.test=t,this.trueBranch=r,this.falseBranch=o}return n.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},n.prototype.connect=function(t,r){var o=this.test()?this.trueBranch:this.falseBranch;return o.connect(t,r)},n}(),Pe=jn,Un=function(){function n(t){this.strategy=t}return n.prototype.isSupported=function(){return this.strategy.isSupported()},n.prototype.connect=function(t,r){var o=this.strategy.connect(t,function(s,h){h&&o.abort(),r(s,h)});return o},n}(),Mn=Un;function Ae(n){return function(){return n.isSupported()}}var Bn=function(n,t){var r={};function o(wn,mr,wr,Sr,Tr){var Sn=t(n,wn,mr,wr,Sr,Tr);return r[wn]=Sn,Sn}var s={hostNonTLS:n.wsHost+":"+n.wsPort,hostTLS:n.wsHost+":"+n.wssPort,httpPath:n.wsPath},h=pt({},s,{useTLS:!0}),v={hostNonTLS:n.httpHost+":"+n.httpPort,hostTLS:n.httpHost+":"+n.httpsPort,httpPath:n.httpPath},C={loop:!0,timeout:15e3,timeoutLimit:6e4},J=new dt({lives:2,minPingDelay:1e4,maxPingDelay:n.activity_timeout}),st=new dt({lives:2,minPingDelay:1e4,maxPingDelay:n.activity_timeout}),yt=o("ws","ws",3,s,J),St=o("wss","ws",3,h,J),Mt=o("sockjs","sockjs",1,v),vn=o("xhr_streaming","xhr_streaming",1,v,st),yr=o("xdr_streaming","xdr_streaming",1,v,st),yn=o("xhr_polling","xhr_polling",1,v),gr=o("xdr_polling","xdr_polling",1,v),gn=new ut([yt],C),br=new ut([St],C),_r=new ut([Mt],C),bn=new ut([new Pe(Ae(vn),vn,yr)],C),_n=new ut([new Pe(Ae(yn),yn,gr)],C),mn=new ut([new Pe(Ae(bn),new nn([bn,new Je(_n,{delay:4e3})]),_n)],C),an=new Pe(Ae(mn),mn,_r),cn;return n.useTLS?cn=new nn([gn,new Je(an,{delay:2e3})]):cn=new nn([gn,new Je(br,{delay:2e3}),new Je(an,{delay:5e3})]),new An(new Mn(new Pe(Ae(yt),cn,an)),r,{ttl:18e5,timeline:n.timeline,useTLS:n.useTLS})},In=Bn,Nn=function(){var n=this;n.timeline.info(n.buildTimelineMessage({transport:n.name+(n.options.useTLS?"s":"")})),n.hooks.isInitialized()?n.changeState("initialized"):n.hooks.file?(n.changeState("initializing"),le.load(n.hooks.file,{useTLS:n.options.useTLS},function(t,r){n.hooks.isInitialized()?(n.changeState("initialized"),r(!0)):(t&&n.onError(t),n.onClose(),r(!1))})):n.onClose()},Dn={getRequest:function(n){var t=new window.XDomainRequest;return t.ontimeout=function(){n.emit("error",new z),n.close()},t.onerror=function(r){n.emit("error",r),n.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&n.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&n.onChunk(200,t.responseText),n.emit("finished",200),n.close()},t},abortRequest:function(n){n.ontimeout=n.onerror=n.onprogress=n.onload=null,n.abort()}},zn=Dn,qn=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h])},n(t,r)};return function(t,r){n(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hn=256*1024,Fn=function(n){qn(t,n);function t(r,o,s){var h=n.call(this)||this;return h.hooks=r,h.method=o,h.url=s,h}return t.prototype.start=function(r){var o=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){o.close()},Q.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(r)},t.prototype.close=function(){this.unloader&&(Q.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(r,o){for(;;){var s=this.advanceBuffer(o);if(s)this.emit("chunk",{status:r,data:s});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(r){var o=r.slice(this.position),s=o.indexOf(`
`);return s!==-1?(this.position+=s+1,o.slice(0,s)):null},t.prototype.isBufferTooLong=function(r){return this.position===r.length&&r.length>Hn},t}(Lt),Yn=Fn,on;(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSED=3]="CLOSED"})(on||(on={}));var ee=on,Xn=1,Jn=function(){function n(t,r){this.hooks=t,this.session=ln(1e3)+"/"+Zn(8),this.location=Wn(r),this.readyState=ee.CONNECTING,this.openStream()}return n.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},n.prototype.ping=function(){this.hooks.sendHeartbeat(this)},n.prototype.close=function(t,r){this.onClose(t,r,!0)},n.prototype.sendRaw=function(t){if(this.readyState===ee.OPEN)try{return Q.createSocketRequest("POST",hn(Gn(this.location,this.session))).start(t),!0}catch{return!1}else return!1},n.prototype.reconnect=function(){this.closeStream(),this.openStream()},n.prototype.onClose=function(t,r,o){this.closeStream(),this.readyState=ee.CLOSED,this.onclose&&this.onclose({code:t,reason:r,wasClean:o})},n.prototype.onChunk=function(t){if(t.status===200){this.readyState===ee.OPEN&&this.onActivity();var r,o=t.data.slice(0,1);switch(o){case"o":r=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(r);break;case"a":r=JSON.parse(t.data.slice(1)||"[]");for(var s=0;s<r.length;s++)this.onEvent(r[s]);break;case"m":r=JSON.parse(t.data.slice(1)||"null"),this.onEvent(r);break;case"h":this.hooks.onHeartbeat(this);break;case"c":r=JSON.parse(t.data.slice(1)||"[]"),this.onClose(r[0],r[1],!0);break}}},n.prototype.onOpen=function(t){this.readyState===ee.CONNECTING?(t&&t.hostname&&(this.location.base=Kn(this.location.base,t.hostname)),this.readyState=ee.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},n.prototype.onEvent=function(t){this.readyState===ee.OPEN&&this.onmessage&&this.onmessage({data:t})},n.prototype.onActivity=function(){this.onactivity&&this.onactivity()},n.prototype.onError=function(t){this.onerror&&this.onerror(t)},n.prototype.openStream=function(){var t=this;this.stream=Q.createSocketRequest("POST",hn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(r){t.onChunk(r)}),this.stream.bind("finished",function(r){t.hooks.onFinished(t,r)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(r){vt.defer(function(){t.onError(r),t.onClose(1006,"Could not start streaming",!1)})}},n.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},n}();function Wn(n){var t=/([^\?]*)\/*(\??.*)/.exec(n);return{base:t[1],queryString:t[2]}}function Gn(n,t){return n.base+"/"+t+"/xhr_send"}function hn(n){var t=n.indexOf("?")===-1?"?":"&";return n+t+"t="+ +new Date+"&n="+Xn++}function Kn(n,t){var r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(n);return r[1]+t+r[3]}function ln(n){return Math.floor(Math.random()*n)}function Zn(n){for(var t=[],r=0;r<n;r++)t.push(ln(32).toString(32));return t.join("")}var Vn=Jn,Qn={getReceiveURL:function(n,t){return n.base+"/"+t+"/xhr_streaming"+n.queryString},onHeartbeat:function(n){n.sendRaw("[]")},sendHeartbeat:function(n){n.sendRaw("[]")},onFinished:function(n,t){n.onClose(1006,"Connection interrupted ("+t+")",!1)}},$n=Qn,tr={getReceiveURL:function(n,t){return n.base+"/"+t+"/xhr"+n.queryString},onHeartbeat:function(){},sendHeartbeat:function(n){n.sendRaw("[]")},onFinished:function(n,t){t===200?n.reconnect():n.onClose(1006,"Connection interrupted ("+t+")",!1)}},er=tr,nr={getRequest:function(n){var t=Q.getXHRAPI(),r=new t;return r.onreadystatechange=r.onprogress=function(){switch(r.readyState){case 3:r.responseText&&r.responseText.length>0&&n.onChunk(r.status,r.responseText);break;case 4:r.responseText&&r.responseText.length>0&&n.onChunk(r.status,r.responseText),n.emit("finished",r.status),n.close();break}},r},abortRequest:function(n){n.onreadystatechange=null,n.abort()}},rr=nr,ir={createStreamingSocket:function(n){return this.createSocket($n,n)},createPollingSocket:function(n){return this.createSocket(er,n)},createSocket:function(n,t){return new Vn(n,t)},createXHR:function(n,t){return this.createRequest(rr,n,t)},createRequest:function(n,t,r){return new Yn(n,t,r)}},pn=ir;pn.createXDR=function(n,t){return this.createRequest(zn,n,t)};var or=pn,sr={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:T,DependenciesReceivers:Xt,getDefaultStrategy:In,Transports:mt,transportConnectionInitializer:Nn,HTTPFactory:or,TimelineTransport:_e,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(n){var t=this;window.Pusher=n;var r=function(){t.onDocumentBody(n.ready)};window.JSON?r():le.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:Ne,jsonp:Qe}},onDocumentBody:function(n){var t=this;document.body?n():setTimeout(function(){t.onDocumentBody(n)},0)},createJSONPRequest:function(n,t){return new zt(n,t)},createScriptRequest:function(n){return new De(n)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var n=this.getXHRAPI();return new n},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return a},createWebSocket:function(n){var t=this.getWebSocketAPI();return new t(n)},createSocketRequest:function(n,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(n,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(n,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var n=this.getXHRAPI();return!!n&&new n().withCredentials!==void 0},isXDRSupported:function(n){var t=n?"https:":"http:",r=this.getProtocol();return!!window.XDomainRequest&&r===t},addUnloadListener:function(n){window.addEventListener!==void 0?window.addEventListener("unload",n,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",n)},removeUnloadListener:function(n){window.addEventListener!==void 0?window.removeEventListener("unload",n,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",n)}},Q=sr,sn;(function(n){n[n.ERROR=3]="ERROR",n[n.INFO=6]="INFO",n[n.DEBUG=7]="DEBUG"})(sn||(sn={}));var We=sn,fr=function(){function n(t,r,o){this.key=t,this.session=r,this.events=[],this.options=o||{},this.sent=0,this.uniqueID=0}return n.prototype.log=function(t,r){t<=this.options.level&&(this.events.push(pt({},r,{timestamp:vt.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},n.prototype.error=function(t){this.log(We.ERROR,t)},n.prototype.info=function(t){this.log(We.INFO,t)},n.prototype.debug=function(t){this.log(We.DEBUG,t)},n.prototype.isEmpty=function(){return this.events.length===0},n.prototype.send=function(t,r){var o=this,s=pt({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(s,function(h,v){h||o.sent++,r&&r(h,v)}),!0},n.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},n}(),ar=fr,cr=function(){function n(t,r,o,s){this.name=t,this.priority=r,this.transport=o,this.options=s||{}}return n.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},n.prototype.connect=function(t,r){var o=this;if(this.isSupported()){if(this.priority<t)return dn(new Y,r)}else return dn(new P,r);var s=!1,h=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),v=null,C=function(){h.unbind("initialized",C),h.connect()},J=function(){v=it.createHandshake(h,function(Mt){s=!0,St(),r(null,Mt)})},st=function(Mt){St(),r(Mt)},yt=function(){St();var Mt;Mt=_t(h),r(new q(Mt))},St=function(){h.unbind("initialized",C),h.unbind("open",J),h.unbind("error",st),h.unbind("closed",yt)};return h.bind("initialized",C),h.bind("open",J),h.bind("error",st),h.bind("closed",yt),h.initialize(),{abort:function(){s||(St(),v?v.close():h.close())},forceMinPriority:function(Mt){s||o.priority<Mt&&(v?v.close():h.close())}}},n}(),ur=cr;function dn(n,t){return vt.defer(function(){t(n)}),{abort:function(){},forceMinPriority:function(){}}}var hr=Q.Transports,lr=function(n,t,r,o,s,h){var v=hr[r];if(!v)throw new U(r);var C=(!n.enabledTransports||Gt(n.enabledTransports,t)!==-1)&&(!n.disabledTransports||Gt(n.disabledTransports,t)===-1),J;return C?J=new ur(t,o,h?h.getAssistant(v):v,pt({key:n.key,useTLS:n.useTLS,timeline:n.timeline,ignoreNullOrigin:n.ignoreNullOrigin},s)):J=pr,J},pr={isSupported:function(){return!1},connect:function(n,t){var r=vt.defer(function(){t(new P)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}},dr=function(){return{wsHost:N.host,wsPort:N.ws_port,wssPort:N.wss_port,wsPath:N.ws_path,httpHost:N.sockjs_host,httpPort:N.sockjs_http_port,httpsPort:N.sockjs_https_port,httpPath:N.sockjs_path,statsHost:N.stats_host,authEndpoint:N.channel_auth_endpoint,authTransport:N.channel_auth_transport,activity_timeout:N.activity_timeout,pong_timeout:N.pong_timeout,unavailable_timeout:N.unavailable_timeout}},xr=function(n){return{wsHost:"ws-"+n+".pusher.com",httpHost:"sockjs-"+n+".pusher.com"}},xn=function(){function n(t,r){var o=this;if(vr(t),r=r||{},!r.cluster&&!(r.wsHost||r.httpHost)){var s=Zt.buildLogSuffix("javascriptQuickStart");ht.warn("You should always specify a cluster when connecting. "+s)}"disableStats"in r&&(ht.warn("The disableStats option is deprecated in favor of enableStats"),"enableStats"in r||(r.enableStats=!r.disableStats)),this.key=t,this.config=pt(dr(),r.cluster?xr(r.cluster):{},r),this.channels=it.createChannels(),this.global_emitter=new Lt,this.sessionID=Math.floor(Math.random()*1e9),this.timeline=new ar(this.key,this.sessionID,{cluster:this.config.cluster,features:n.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:We.INFO,version:N.VERSION}),this.config.enableStats&&(this.timelineSender=it.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Q.TimelineTransport.name}));var h=function(v){var C=pt({},o.config,v);return Q.getDefaultStrategy(C,lr)};this.connection=it.createConnectionManager(this.key,pt({getStrategy:h,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())}),this.connection.bind("message",function(v){var C=v.event,J=C.indexOf("pusher_internal:")===0;if(v.channel){var st=o.channel(v.channel);st&&st.handleEvent(v)}J||o.global_emitter.emit(v.event,v.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(v){ht.warn(v)}),n.instances.push(this),this.timeline.info({instances:n.instances.length}),n.isReady&&this.connect()}return n.ready=function(){n.isReady=!0;for(var t=0,r=n.instances.length;t<r;t++)n.instances[t].connect()},n.getClientFeatures=function(){return xe(Dt({ws:Q.Transports.ws},function(t){return t.isSupported({})}))},n.prototype.channel=function(t){return this.channels.find(t)},n.prototype.allChannels=function(){return this.channels.all()},n.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),r=this.timelineSender;this.timelineSenderTimer=new Bt(6e4,function(){r.send(t)})}},n.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},n.prototype.bind=function(t,r,o){return this.global_emitter.bind(t,r,o),this},n.prototype.unbind=function(t,r,o){return this.global_emitter.unbind(t,r,o),this},n.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},n.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},n.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},n.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},n.prototype.subscribe=function(t){var r=this.channels.add(t,this);return r.subscriptionPending&&r.subscriptionCancelled?r.reinstateSubscription():!r.subscriptionPending&&this.connection.state==="connected"&&r.subscribe(),r},n.prototype.unsubscribe=function(t){var r=this.channels.find(t);r&&r.subscriptionPending?r.cancelSubscription():(r=this.channels.remove(t),r&&this.connection.state==="connected"&&r.unsubscribe())},n.prototype.send_event=function(t,r,o){return this.connection.send_event(t,r,o)},n.prototype.shouldUseTLS=function(){return Q.getProtocol()==="https:"||this.config.forceTLS===!0?!0:!!this.config.encrypted},n.instances=[],n.isReady=!1,n.logToConsole=!1,n.Runtime=Q,n.ScriptReceivers=Q.ScriptReceivers,n.DependenciesReceivers=Q.DependenciesReceivers,n.auth_callbacks=Q.auth_callbacks,n}(),fn=Pt.default=xn;function vr(n){if(n==null)throw"You must pass your app key when you instantiate Pusher."}Q.setup(xn)}])})})(Tn);var Or=Tn.exports;const Pr=Cr(Or);export{Pr as P};